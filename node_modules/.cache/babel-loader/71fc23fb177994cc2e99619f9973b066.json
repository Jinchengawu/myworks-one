{"remainingRequest":"/Users/wangzhanyuan/code/my-works/my-works-on/node_modules/babel-loader/lib/index.js!/Users/wangzhanyuan/code/my-works/my-works-on/src/utils/index.js","dependencies":[{"path":"/Users/wangzhanyuan/code/my-works/my-works-on/src/utils/index.js","mtime":1565611208000},{"path":"/Users/wangzhanyuan/code/my-works/my-works-on/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/my-works-on/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport _objectSpread from \"/Users/wangzhanyuan/code/my-works/my-works-on/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.match\";\n\nfunction isWeiXin() {\n  var ua = window.navigator.userAgent.toLowerCase(); // console.log('ua',ua)\n  // console.log('ua.match(/MicroMessenger/i)',ua.match(/MicroMessenger/i)[0])\n\n  if (!ua.match(/MicroMessenger/i)) return false;\n\n  if (ua.match(/MicroMessenger/i)[0] === 'micromessenger') {\n    return true;\n  }\n\n  return false;\n}\n\nfunction test() {// console.log('test')\n}\n\nfunction addMark(List, type) {\n  var timeArr = []; // console.log('addMark---List',List)\n\n  if (List.length == 0) {\n    return List;\n  }\n\n  var y = List[0].createTime.substring(0, 4);\n  var m = List[0].createTime.substring(5, 7);\n  var day = List[0].createTime.substring(8, 10);\n  timeArr.push({\n    y: y,\n    m: m,\n    day: day\n  });\n  var idxx = 0; // console.log(timeArr)\n  //按月划分组别\n\n  List.map(function (d, idx) {\n    var dy = d.createTime.substring(0, 4);\n    var dm = d.createTime.substring(5, 7);\n    var dday = d.createTime.substring(8, 10);\n    var dd = timeArr[idxx]; //||dday!=dd['day']\n\n    if (dy != dd['y'] || dm != dd['m']) {\n      idxx++;\n      d.top = true;\n      timeArr.push({\n        y: dy,\n        m: dm,\n        day: dday\n      });\n\n      if (idx == 0) {\n        return;\n      }\n\n      List[idx - 1].bottom = true;\n    }\n  });\n  List[0].top = true;\n  List[List.length - 1].bottom = true;\n  return List;\n}\n\nfunction formatDate(date, fmt) {\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, \"\".concat(date.getFullYear()).substr(4 - RegExp.$1.length));\n  }\n\n  var o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds() // eslint-disable-next-line no-restricted-syntax\n\n  };\n\n  for (var k in o) {\n    if (new RegExp(\"(\".concat(k, \")\")).test(fmt)) {\n      var str = \"\".concat(o[k]); // eslint-disable-next-line no-use-before-define\n\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\n    }\n  }\n\n  return fmt;\n}\n\nfunction padLeftZero(str) {\n  return \"00\".concat(str).substr(str.length);\n}\n\nfunction add0(m) {\n  return m < 10 ? \"0\".concat(m) : m;\n}\n\nfunction format(timer, type) {\n  // shijianchuo是整数，否则要parseInt转换\n  var time = new Date(timer);\n  var y = time.getFullYear();\n  var m = time.getMonth() + 1;\n  var d = time.getDate();\n  var h = time.getHours();\n  var mm = time.getMinutes();\n  var s = time.getSeconds();\n\n  if (type === 2) {\n    return \"\".concat(y, \"-\").concat(add0(m), \"-\").concat(add0(d), \" \").concat(add0(h), \":\").concat(add0(mm), \":\").concat(add0(s));\n  }\n\n  return \"\".concat(y, \"-\").concat(add0(m), \"-\").concat(add0(d));\n}\n\nfunction isNull(str) {\n  if (str === '' || str === undefined || str === null) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction checkPhoneNum(phone) {\n  var validRule = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/gi.test(phone); // 手机号码校验规则\n\n  return validRule;\n}\n/**\r\n * \r\n * @param {Object} value \r\n * value.t : Type; Type === 1 数值两位小数截取 \r\n *                      === 2 数值不能小于0\r\n * value.v : value; value 对应的值 \r\n */\n\n\nfunction strChange(value) {\n  var v = _objectSpread({}, value);\n\n  if (v.t == 1) {\n    v.v = v.v + '';\n    var Didx = v.v.indexOf('.');\n    var Dlen = v.v.slice(Didx, v.v.length - 1);\n    var Num = v.v.slice(0, Didx);\n\n    if (Dlen.length > 2) {\n      Dlen = Dlen.slice(0, 3);\n      value.v = (Num + Dlen) * 1;\n      return value;\n    }\n  }\n\n  if (v.t == 2) {\n    if (v.v < 0) {\n      value.v = 0;\n      return value;\n    }\n  }\n\n  return null;\n}\n/* 验证邮箱格式 */\n\n/**\r\n * \r\n * @param {*} email \r\n */\n\n\nfunction checkEmail(email) {\n  var validRule = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/.test(email); // 邮箱校验规则\n\n  return validRule;\n}\n\nexport { isWeiXin, test, formatDate, isNull, checkPhoneNum, checkEmail, format, addMark, strChange };",{"version":3,"sources":["/Users/wangzhanyuan/code/my-works/my-works-on/src/utils/index.js"],"names":["isWeiXin","ua","window","navigator","userAgent","toLowerCase","match","test","addMark","List","type","timeArr","length","y","createTime","substring","m","day","push","idxx","map","d","idx","dy","dm","dday","dd","top","bottom","formatDate","date","fmt","replace","RegExp","$1","getFullYear","substr","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","add0","format","timer","time","Date","h","mm","s","isNull","undefined","checkPhoneNum","phone","validRule","strChange","value","v","t","Didx","indexOf","Dlen","slice","Num","checkEmail","email"],"mappings":"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","sourcesContent":["\r\nfunction isWeiXin() {\r\n  const ua = window.navigator.userAgent.toLowerCase()\r\n  // console.log('ua',ua)\r\n  // console.log('ua.match(/MicroMessenger/i)',ua.match(/MicroMessenger/i)[0])\r\n  if (!ua.match(/MicroMessenger/i)) return false\r\n  if (ua.match(/MicroMessenger/i)[0] === 'micromessenger') {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nfunction test() {\r\n  // console.log('test')\r\n}\r\nfunction addMark(List,type){\r\n  let timeArr = []\r\n  // console.log('addMark---List',List)\r\n  if(List.length==0){\r\n    return List\r\n  }\r\n  let y = List[0].createTime.substring(0,4)\r\n  let m = List[0].createTime.substring(5,7)\r\n  let day = List[0].createTime.substring(8,10)\r\n  timeArr.push({\r\n    y:y,\r\n    m:m,\r\n    day:day\r\n  })\r\n  let idxx = 0\r\n  // console.log(timeArr)\r\n  //按月划分组别\r\n  List.map((d,idx)=>{\r\n    let dy = d.createTime.substring(0,4)\r\n    let dm = d.createTime.substring(5,7)\r\n    let dday = d.createTime.substring(8,10)          \r\n    let dd = timeArr[idxx]  \r\n    //||dday!=dd['day']\r\n    if(dy!=dd['y']||dm!=dd['m']){\r\n      idxx++\r\n      d.top = true\r\n      timeArr.push({\r\n        y:dy,\r\n        m:dm,\r\n        day:dday\r\n      }) \r\n      if(idx == 0 ){\r\n        return \r\n      }            \r\n      List[idx-1].bottom = true\r\n    }        \r\n  })\r\n  List[0].top = true\r\n  List[List.length - 1].bottom = true\r\n  return List\r\n}\r\nfunction formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (`${date.getFullYear()}`).substr(4 - RegExp.$1.length))\r\n  }\r\n  const o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n  }\r\n\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      const str = `${o[k]}`\r\n      // eslint-disable-next-line no-use-before-define\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str))\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n  return (`00${str}`).substr(str.length)\r\n}\r\nfunction add0(m) { return m < 10 ? `0${m}` : m }\r\nfunction format(timer, type) {\r\n// shijianchuo是整数，否则要parseInt转换\r\n  const time = new Date(timer)\r\n  const y = time.getFullYear()\r\n  const m = time.getMonth() + 1\r\n  const d = time.getDate()\r\n  const h = time.getHours()\r\n  const mm = time.getMinutes()\r\n  const s = time.getSeconds()\r\n  if (type === 2) {\r\n    return `${y}-${add0(m)}-${add0(d)} ${add0(h)}:${add0(mm)}:${add0(s)}`\r\n  }\r\n  return `${y}-${add0(m)}-${add0(d)}`\r\n}\r\nfunction isNull(str) {\r\n  if (str === '' || str === undefined || str === null) {\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\nfunction checkPhoneNum(phone) {\r\n  const validRule = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/gi.test(\r\n    phone,\r\n  ) // 手机号码校验规则\r\n  return validRule\r\n}\r\n\r\n/**\r\n * \r\n * @param {Object} value \r\n * value.t : Type; Type === 1 数值两位小数截取 \r\n *                      === 2 数值不能小于0\r\n * value.v : value; value 对应的值 \r\n */\r\nfunction strChange(value) {\r\n  let v = {...value}\r\n  if(v.t==1){\r\n    v.v = v.v+''\r\n    let Didx = v.v.indexOf('.') \r\n    let Dlen = v.v.slice(Didx,v.v.length-1)\r\n    let Num = v.v.slice(0,Didx)\r\n    if(Dlen.length>2){\r\n      Dlen = Dlen.slice(0,3)\r\n      value.v = (Num+Dlen)*1\r\n      return value                   \r\n    }\r\n  }\r\n  if(v.t==2){\r\n    if(v.v<0){\r\n      value.v = 0\r\n      return value\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\n/* 验证邮箱格式 */\r\n/**\r\n * \r\n * @param {*} email \r\n */\r\nfunction checkEmail(email) {\r\n  const validRule = /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/.test(\r\n    email,\r\n  ) // 邮箱校验规则\r\n  return validRule\r\n}\r\n\r\nexport {\r\n  isWeiXin,\r\n  test,\r\n  formatDate,\r\n  isNull,\r\n  checkPhoneNum,\r\n  checkEmail,\r\n  format,\r\n  addMark,\r\n  strChange\r\n}\r\n"]}]}