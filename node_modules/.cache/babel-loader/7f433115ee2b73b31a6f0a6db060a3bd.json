{"remainingRequest":"/Users/wangzhanyuan/code/my-works/one/node_modules/babel-loader/lib/index.js!/Users/wangzhanyuan/code/my-works/one/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhanyuan/code/my-works/one/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/my-works/one/src/views/addCooperation/addCooperation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhanyuan/code/my-works/one/src/views/addCooperation/addCooperation.vue","mtime":1564134165920},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { api, get, post } from \"@/service\";\n// import { mapState } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\nimport { collaboratorIdInfo, collaboratorUpdate, leading } from '@/service/customer';\nexport default {\n  name: 'AddCooperation',\n  data: function data() {\n    return {\n      checked: true,\n      collaboratorData: {},\n      radio: ''\n    };\n  },\n  computed: {},\n  watch: {},\n  created: function created() {\n    this.getCollaborator();\n\n    if (this.$route.query.type == 2) {} else {}\n  },\n  methods: {\n    //协作人list\n    getCollaborator: function getCollaborator() {\n      var _this = this;\n\n      // console.log(this.$store.getters.userData)\n      collaboratorIdInfo({\n        id: this.$store.getters.userData.companyId\n      }).then(function (res) {\n        _this.collaboratorData = res.data;\n\n        if (_this.$route.query.type == 2) {\n          _this.collaboratorData.collaboratorUserVOS.map(function (d) {\n            d.isEmployee = false;\n          });\n        } // console.log('协作人list',res)\n\n      });\n    },\n    setBut: function setBut() {\n      if (this.$route.query.type == 2) {\n        this.setLeading();\n      } else {\n        this.setCollaborator();\n      }\n    },\n    changeLeading: function changeLeading(idx) {\n      console.log(idx);\n      console.log(this.radio);\n      this.collaboratorData.collaboratorUserVOS.map(function (d, iddx) {\n        if (idx != iddx) d.isEmployee = false;\n      });\n    },\n    setLeading: function setLeading() {\n      var _this2 = this;\n\n      var params = {\n        leadingOfficialUserId: this.radio\n      };\n      leading(params).then(function (res) {\n        _this2.$router.go(-2);\n      });\n    },\n    //编辑协作人\n    setCollaborator: function setCollaborator() {\n      var _this3 = this;\n\n      var arr = [];\n      this.collaboratorData.collaboratorUserVOS.map(function (d) {\n        d.isEmployee ? arr.push(d.id) : '';\n      });\n      var params = {\n        userIds: arr\n      };\n      collaboratorUpdate(params).then(function (res) {\n        _this3.$router.go(-1);\n      });\n    }\n  }\n};",{"version":3,"sources":["addCooperation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA,SAAA,kBAAA,EAAA,kBAAA,EAAA,OAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,gBAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,QAAA,EAAA,EATA;AAUA,EAAA,KAAA,EAAA,EAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,eAAA;;AAEA,QAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,IAAA,CAAA,EAAA,CAEA,CAFA,MAEA,CAEA;AAEA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,eAFA,6BAEA;AAAA;;AACA;AACA,MAAA,kBAAA,CAAA;AACA,QAAA,EAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA;AADA,OAAA,CAAA,CAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,gBAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AAEA,UAAA,KAAA,CAAA,gBAAA,CAAA,mBAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,UAAA,GAAA,KAAA;AACA,WAFA;AAGA,SAPA,CAQA;;AACA,OAXA;AAYA,KAhBA;AAiBA,IAAA,MAjBA,oBAiBA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,aAAA,UAAA;AAEA,OAHA,MAGA;AACA,aAAA,eAAA;AAEA;AAEA,KA1BA;AA2BA,IAAA,aA3BA,yBA2BA,GA3BA,EA2BA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,WAAA,gBAAA,CAAA,mBAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,IAAA,EAAA;AACA,YAAA,GAAA,IAAA,IAAA,EAAA,CAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAFA;AAGA,KAjCA;AAkCA,IAAA,UAlCA,wBAkCA;AAAA;;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,qBAAA,EAAA,KAAA;AADA,OAAA;AAGA,MAAA,OAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,OAFA;AAGA,KA1CA;AA2CA;AACA,IAAA,eA5CA,6BA4CA;AAAA;;AACA,UAAA,GAAA,GAAA,EAAA;AACA,WAAA,gBAAA,CAAA,mBAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,EAAA;AACA,OAFA;AAGA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA;AADA,OAAA;AAGA,MAAA,kBAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,OAFA;AAGA;AAvDA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"addCooperation\">\n    <div class=\"contact_container4\">\n      <div class=\"tab4_box\">\n        <div class=\"tab4_title\">\n          <span>客户主负责人</span>\n        </div>\n        <div class=\"tab4-list\">\n          <div class=\"tab4-left-box\">\n            <div class=\"img-box\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"tab4-right-box\">\n            <p class=\"title-p\">\n              {{ collaboratorData.principal.name }}\n            </p>\n            <p class=\"value-p\">\n              {{ collaboratorData.principal.roleVOS[0].roleName }}\n            </p>\n          </div>\n        </div>\n\n        <div\n          v-if=\"collaboratorData.leaderUserVOS.length!=0&&$route.query.OTP!=2\"\n          class=\"tab4_title\"\n        >\n          <span>上级领导</span>\n        </div>\n        <div v-if=\"collaboratorData.leaderUserVOS.length!=0&&$route.query.OTP!=2\">\n          <div\n            v-for=\"(item) in collaboratorData.leaderUserVOS\"          \n            :key=\"item.uid\"\n            class=\"tab4-list\"\n          >\n            <div class=\"tab4-left-box\">\n              <div class=\"img-box\">\n                <img src>\n              </div>\n            </div>\n            <div class=\"tab4-right-box\">\n              <p class=\"title-p\">\n                {{ item.userNo }}\n              </p>\n              <p class=\"value-p\">\n                {{ item.name }}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div\n          v-if=\"collaboratorData.collaboratorUserVOS.length!=0&&$route.query.OTP!=2\"\n          class=\"tab4_title\"\n        >\n          <span>协作人</span>\n        </div>\n        <div v-if=\"collaboratorData.collaboratorUserVOS.length!=0&&$route.query.OTP!=2\">\n          <div \n            v-for=\"(item) in collaboratorData.collaboratorUserVOS\"                     \n            :key=\"item.uid\"            \n            class=\"tab4-list\"                      \n          >\n            <div class=\"tab4-left-box\">\n              <div class=\"img-box\">\n                <!-- <img src> -->\n              </div>\n            </div>\n            <div class=\"tab4-right-box\">\n              <p class=\"title-p\">\n                {{ item.userNo }}\n              </p>\n              <p class=\"value-p\">\n                {{ item.name }}\n              </p>\n            </div>\n            <van-checkbox\n              v-if=\"$route.query.type!=2\"\n              v-model=\"item.isEmployee\"\n              class=\"delete-icon\"   \n              checked-color=\"#03C061\"\n            />\n            <van-radio-group\n              v-if=\"$route.query.type==2\"\n              v-model=\"radio\"\n            >   \n              <van-radio\n                checked-color=\"#03C061\"\n                :name=\"item.id\"\n                class=\"delete-icon\"\n              />  \n            </van-radio-group>          \n          </div>        \n        </div>\n      </div>\n\n      <div class=\"tab-footer\">\n        <van-button\n          v-if=\"$route.query.OTP!=2\"\n          class=\"gradual-btn\"\n          style=\"width:100%;\"\n          type=\"primary\"\n          @click=\"setBut\"\n        >\n          保存\n        </van-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import { api, get, post } from \"@/service\";\n// import { mapState } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\nimport { collaboratorIdInfo,collaboratorUpdate,leading } from '@/service/customer'\nexport default {\n  name: 'AddCooperation',\n  data() {\n    return {\n      checked: true,\n      collaboratorData:{},\n      radio:''\n    }\n  },\n  computed: {},\n  watch: {},\n  created() {\n    this.getCollaborator()\n    \n    if(this.$route.query.type==2){\n\n    }else{\n      \n    }\n    \n  },\n  methods: {\n    //协作人list\n    getCollaborator(){\n      // console.log(this.$store.getters.userData)\n      collaboratorIdInfo({\n        id:this.$store.getters.userData.companyId\n      }).then(res=>{\n        this.collaboratorData = res.data\n        if(this.$route.query.type==2){\n\n          this.collaboratorData.collaboratorUserVOS.map(d=>{\n            d.isEmployee = false\n          })\n        }\n        // console.log('协作人list',res)\n      })\n    },\n    setBut(){\n      if(this.$route.query.type==2){\n        this.setLeading()\n        \n      }else{\n        this.setCollaborator()\n        \n      }      \n         \n    },\n    changeLeading(idx){\n      console.log(idx)\n      console.log(this.radio)\n      this.collaboratorData.collaboratorUserVOS.map((d,iddx)=>{\n        if(idx!=iddx)d.isEmployee = false\n      })\n    },\n    setLeading(){\n      \n      let params = {\n        leadingOfficialUserId:this.radio\n      }\n      leading(params).then(res=>{\n        this.$router.go(-2)   \n      })\n    },\n    //编辑协作人\n    setCollaborator(){\n      let arr = []\n      this.collaboratorData.collaboratorUserVOS.map(d=>{\n        d.isEmployee ? arr.push(d.id):''\n      })\n      let params = {\n        userIds:arr\n      }\n      collaboratorUpdate(params).then(res=>{\n        this.$router.go(-1)   \n      })\n    },\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.contact_container4 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab4_box {\n    width: 100%;\n    .tab4-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      display: flex;\n      position: relative;\n      .delete-icon {\n        position: absolute;\n        top: 36px;\n        right: 16px;\n      }\n      .tab4-left-box {\n        width: 80px;\n        .img-box {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background: #cccccc;\n          overflow: hidden;\n          margin-top: 5px;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .tab4-right-box {\n        width: 100%;\n        .title-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 16px;\n          font-weight: bold;\n          color: #333333;\n          margin-bottom: 10px;\n        }\n        .value-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 14px;\n          color: #999999;\n        }\n      }\n    }\n    .tab4_title {\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      color: #999999;\n      font-size: 14px;\n      font-weight: bold;\n      padding: 0 15px;\n      box-sizing: border-box;\n    }\n  }\n  .tab4-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n.tab-footer {\n  width: 100%;\n  height: 70px;\n  background: #fcfcfc;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  padding: 0 10px;\n  box-sizing: border-box;\n}\n</style>\n"],"sourceRoot":"src/views/addCooperation"}]}