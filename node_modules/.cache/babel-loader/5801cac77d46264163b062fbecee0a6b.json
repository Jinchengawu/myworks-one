{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/thread-loader/dist/cjs.js!/Users/wangzhanyuan/code/oc-works/fuli/node_modules/babel-loader/lib/index.js!/Users/wangzhanyuan/code/oc-works/fuli/src/service/index.js","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/service/index.js","mtime":1564556792656},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport _Object$assign from \"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport \"core-js/modules/es6.function.name\";\nimport _Promise from \"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport axios from 'axios';\nimport store from '@/store'; // 引入store\n\nimport Vue from 'vue';\nvar ajx = axios.create({\n  //正式\n  // baseURL: 'http://scrm.ocheng.me/v2/api/',\n  //v2\n  baseURL: 'http://v2.ocheng.me/api/',\n  //stage\n  // baseURL: 'http://stage.ocheng.me/api/', \n  // 设定请求环境(测试or生产)，由DefinePlugin 插件定义\n  timeout: 36000,\n  // 超时时间\n  headers: {\n    Accept: 'application/json',\n    'X-Channel': 3,\n    'X-Channel-Type': 1\n  }\n});\najx.interceptors.request.use(function (config) {\n  return config;\n});\najx.interceptors.response.use(function (res) {\n  // TODO: 需要修改的返回数据处理\n  // console.log('触发response拦截');\n  // res.data.\n  var _res$data = res.data,\n      code = _res$data.code,\n      message = _res$data.message; // console.log('error1',res)\n  // console.log('error2',res.data)\n\n  if (code === 0) {\n    return res.data;\n  }\n\n  res.data = res.data || {};\n  res.data.message = res.data.message || '接口返回报错';\n  return _Promise.reject(res.data);\n}, function (error) {\n  // 这里 不reject 导致 promise变成 resolve 状态\n  // console.log('error2',error)\n  if (error.response) {\n    // console.log('error3',error.response)\n    return _Promise.reject(error.response.data); // eslint-disable-line\n  }\n\n  return null;\n}); // eslint-disable-next-line func-names\n\nvar api = function api(url, type, params) {\n  params = params || {};\n  var addUserData = {}; // console.log('store.getters.userInfo',store.getters.userInfo)\n\n  if (store.getters.userInfo) {\n    addUserData.userId = store.getters.userInfo.id;\n    addUserData.userName = store.getters.userInfo.name || '';\n  }\n\n  if (store.getters.userData) {\n    addUserData.companyId = store.getters.userData.companyId || '';\n    addUserData.companyName = store.getters.userData.companyName || '';\n  }\n\n  if (params.companyId) delete addUserData.companyId;\n  if (params.companyName) delete addUserData.companyName;\n  var axiosMain;\n\n  if (type.toUpperCase() === 'GET') {\n    params = _Object$assign(params, addUserData);\n    delete params.companyName;\n    console.log('params', url, params);\n\n    if (!params.userId && url == 'fuli/permission/list') {\n      Vue.prototype.$notify('当前登录状态已经过期');\n      console.log('当前登录状态已经过期', params.userId);\n      setTimeout(function () {\n        window.open(window.location.host + '/h5/fuli');\n      }, 1000);\n    }\n\n    var id;\n\n    if (params.id) {\n      // eslint-disable-next-line prefer-destructuring\n      id = params.id;\n      var urls = \"\".concat(url, \"/\").concat(id);\n      axiosMain = ajx.get(urls);\n    } else {\n      axiosMain = ajx.get(url, {\n        params: params\n      });\n    }\n  } else if (type.toUpperCase() === 'POST') {\n    params = _Object$assign(params, addUserData);\n    if (params.notCompanyId) delete params.notCompanyId;\n    axiosMain = ajx.post(url, params);\n  } else if (type.toUpperCase() === 'PUT') {\n    params = _Object$assign(params, addUserData);\n    axiosMain = ajx.put(url, params);\n  } else if (type.toUpperCase() === 'OPEN') {\n    return window.open(\"\".concat(url));\n  } else if (type.toUpperCase() === 'DELETE') {\n    params = _Object$assign(params, addUserData); // console.log('DELETE','params',params);\n\n    axiosMain = ajx.delete(url, {\n      params: params\n    });\n  } else if (type.toUpperCase() === 'UPLOAD') {\n    params = _Object$assign(params, addUserData);\n    params = {\n      file: params // console.log('params',params)\n\n    };\n    axiosMain = ajx({\n      url: \"\".concat(url),\n      method: 'post',\n      data: params,\n      // dataType: 'json',\n      headers: {\n        //添加请求头        \n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n  } else if (type.toUpperCase() === 'GETLOG') {\n    // params = Object.assign(params, addUserData)\n    // if(params.notCompanyId) delete params.notCompanyId\n    params.userId = addUserData.userId;\n    params.userName = addUserData.userName;\n    axiosMain = ajx.post(url, params);\n  } else if (type.toUpperCase() === 'GETCOM') {\n    params.userId = addUserData.userId;\n    params.userName = addUserData.userName;\n\n    var _id;\n\n    if (params.id) {\n      // eslint-disable-next-line prefer-destructuring\n      _id = params.id;\n\n      var _urls = \"\".concat(url, \"/\").concat(_id);\n\n      axiosMain = ajx.get(_urls);\n    } else {\n      axiosMain = ajx.get(url, {\n        params: params\n      });\n    }\n  }\n\n  return axiosMain.then(function (res) {\n    // console.log('axiosMain返回值 111111111',res )\n    if (typeof res.data == 'string') {\n      // console.log('axiosMain返回值 string 路径',url )\n      return {\n        data: res.data\n      };\n    } // console.log('axiosMain返回值 2222', typeof res.data )   \n\n\n    if (_typeof(res.data) == 'object') {\n      res.data = res.data || [];\n      res.data.data = res.data.data || [];\n    }\n\n    if (res.data.status) {\n      // console.log('axiosMain返回值 status 路径 路径',url )\n      return {\n        status: true,\n        msg: res.data.msg,\n        data: res.data\n      };\n    } else if (res.data) {\n      // console.log('axiosMain返回值 data 路径',url ,'value:',res.data)\n      return {\n        status: true,\n        data: res.data || []\n      };\n    } else if (res.code == 0) {\n      // console.log('code==0 路径',url)\n      return {\n        data: res.data\n      };\n    } else {\n      // console.log('return 路径',url)\n      return {\n        // status: false,\n        // text: res.data.message,\n        data: res\n      };\n    }\n  }).catch(function (err) {\n    console.log(err);\n    Vue.prototype.$notify(err.message);\n    return {\n      status: false,\n      text: \"\".concat(err.statusText ? err.statusText : 'error'),\n      message: err.message,\n      code: err.code\n    };\n  });\n};\n\nexport { ajx, api };",{"version":3,"sources":["/Users/wangzhanyuan/code/oc-works/fuli/src/service/index.js"],"names":["axios","store","Vue","ajx","create","baseURL","timeout","headers","Accept","interceptors","request","use","config","response","res","data","code","message","reject","error","api","url","type","params","addUserData","getters","userInfo","userId","id","userName","name","userData","companyId","companyName","axiosMain","toUpperCase","console","log","prototype","$notify","setTimeout","window","open","location","host","urls","get","notCompanyId","post","put","delete","file","method","then","status","msg","catch","err","text","statusText"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport store from '@/store' // 引入store\nimport Vue from 'vue'\n\nconst ajx = axios.create({\n  //正式\n  // baseURL: 'http://scrm.ocheng.me/v2/api/',\n  //v2\n  baseURL: 'http://v2.ocheng.me/api/', \n  //stage\n  // baseURL: 'http://stage.ocheng.me/api/', \n  // 设定请求环境(测试or生产)，由DefinePlugin 插件定义\n  timeout: 36000, // 超时时间\n  headers: {\n    Accept: 'application/json',\n    'X-Channel': 3,\n    'X-Channel-Type': 1,\n  },\n})\n\najx.interceptors.request.use(config => config)\n\najx.interceptors.response.use(\n  (res) => {\n    // TODO: 需要修改的返回数据处理\n    // console.log('触发response拦截');\n    // res.data.\n    const {\n      code,\n      message,\n    } = res.data\n    // console.log('error1',res)\n    // console.log('error2',res.data)\n    if (code === 0) {\n      return res.data\n    }\n    res.data = res.data || {}\n    res.data.message = res.data.message || '接口返回报错'\n    return Promise.reject(res.data)\n  },\n  (error) => {\n    // 这里 不reject 导致 promise变成 resolve 状态\n    // console.log('error2',error)\n    \n    if (error.response) {\n      // console.log('error3',error.response)\n      return Promise.reject(error.response.data); // eslint-disable-line\n    }\n    return null\n  },\n)\n// eslint-disable-next-line func-names\nconst api = function (url, type, params) {\n  params = params || {}\n  let addUserData = {}\n  // console.log('store.getters.userInfo',store.getters.userInfo)\n  if (store.getters.userInfo) {\n    addUserData.userId= store.getters.userInfo.id\n    addUserData.userName= store.getters.userInfo.name||''\n  }\n  if(store.getters.userData){\n    addUserData.companyId= store.getters.userData.companyId||''\n    addUserData.companyName= store.getters.userData.companyName||''\n  }\n  if (params.companyId) delete addUserData.companyId\n  if (params.companyName) delete addUserData.companyName\n  \n  let axiosMain\n  if (type.toUpperCase() === 'GET') {    \n    params = Object.assign(params, addUserData)\n    delete params.companyName\n    console.log('params',url,params)\n    if(!params.userId&&url=='fuli/permission/list'){\n      Vue.prototype.$notify('当前登录状态已经过期')\n      console.log('当前登录状态已经过期',params.userId)\n      setTimeout(()=>{\n        window.open(window.location.host+'/h5/fuli')\n      },1000)    \n    }\n    let id\n    if (params.id) {\n      // eslint-disable-next-line prefer-destructuring\n      id = params.id\n      const urls = `${url}/${id}`\n      axiosMain = ajx.get(urls)\n    } else {\n      axiosMain = ajx.get(url, {\n        params,\n      })\n    }\n  } else if (type.toUpperCase() === 'POST') {\n    params = Object.assign(params, addUserData)\n    if(params.notCompanyId) delete params.notCompanyId\n    axiosMain = ajx.post(url, params)\n  } else if (type.toUpperCase() === 'PUT') {\n    params = Object.assign(params, addUserData)\n    axiosMain = ajx.put(url, params)\n  } else if (type.toUpperCase() === 'OPEN') {\n    return window.open(`${url}`)\n  } else if (type.toUpperCase() === 'DELETE') {\n    params = Object.assign(params, addUserData)\n    // console.log('DELETE','params',params);\n    axiosMain = ajx.delete(url, {\n      params,\n    })\n  } else if (type.toUpperCase() === 'UPLOAD') {\n    params = Object.assign(params, addUserData)        \n    params= {\n      file:params\n    }\n    // console.log('params',params)\n    axiosMain = ajx({\n      url: `${url}`,\n      method: 'post',\n      data: params,\n      // dataType: 'json',\n      headers: { //添加请求头        \n        \"Content-Type\": \"multipart/form-data\"\n      }\n    })\n  } else if (type.toUpperCase() === 'GETLOG') {\n    // params = Object.assign(params, addUserData)\n    // if(params.notCompanyId) delete params.notCompanyId\n    params.userId = addUserData.userId\n    params.userName = addUserData.userName\n    axiosMain = ajx.post(url, params)\n  }  else if (type.toUpperCase() === 'GETCOM') {\n    params.userId = addUserData.userId\n    params.userName = addUserData.userName\n    let id\n    if (params.id) {\n      // eslint-disable-next-line prefer-destructuring\n      id = params.id\n      const urls = `${url}/${id}`\n      axiosMain = ajx.get(urls)\n    } else {\n      axiosMain = ajx.get(url, {\n        params,\n      })\n    }\n  } \n\n  \n  return axiosMain.then((res) => {\n    // console.log('axiosMain返回值 111111111',res )\n    if(typeof res.data == 'string'){\n      // console.log('axiosMain返回值 string 路径',url )\n      return {    \n        data: res.data,\n      }\n    }\n    // console.log('axiosMain返回值 2222', typeof res.data )   \n    if(typeof res.data == 'object'){\n      res.data = res.data || []\n      res.data.data = res.data.data || []\n    }  \n    \n    if (res.data.status) {\n      // console.log('axiosMain返回值 status 路径 路径',url )\n      return {\n        status: true,\n        msg: res.data.msg,\n        data: res.data,\n        \n      }\n    }else if(res.data){\n      // console.log('axiosMain返回值 data 路径',url ,'value:',res.data)\n      return {\n        status: true,\n        data: res.data || [],\n      }\n    }else if(res.code==0){\n      // console.log('code==0 路径',url)\n      return {    \n        data: res.data,\n      }\n    }else{\n      // console.log('return 路径',url)\n      return {\n        // status: false,\n        // text: res.data.message,\n        data: res,\n      }\n    }\n\n  }).catch(err =>   \n    {\n      console.log(err)\n      Vue.prototype.$notify(err.message)\n      \n      return {\n        status: false,\n        text: `${err.statusText ? err.statusText : 'error'}`,\n        message: err.message,\n        code :err.code\n      }    \n    })\n}\nexport {\n  ajx,\n  api,\n}\n"]}]}