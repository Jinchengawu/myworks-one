{"remainingRequest":"/Users/wangzhanyuan/code/my-works/one/node_modules/babel-loader/lib/index.js!/Users/wangzhanyuan/code/my-works/one/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangzhanyuan/code/my-works/one/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/my-works/one/src/views/customerManagement/customer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhanyuan/code/my-works/one/src/views/customerManagement/customer.vue","mtime":1564472355648},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/my-works/one/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { api, get } from \"@api\"\nimport { firmInfo } from '@/service/customer'; // import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\n\nimport customerDynamic from './tab-dynamic.vue';\nimport customerInfo from './tab-info.vue';\nimport customerContacts from './tab-contacts.vue';\nimport customerCooperation from './tab-cooperation.vue';\nimport customerVisit from './tab-visit.vue';\nimport customerCreation from './tab-creation.vue';\nimport customerQuotation from './tab-quotation.vue';\nimport customerCommerce from './tab-commerce.vue';\nimport customerInvestigation from './tab-investigation.vue';\nimport customerSigning from './tab-signing.vue';\nimport customerLoan from './tab-loan.vue';\nimport customerAfterloan from './tab-afterloan.vue';\nexport default {\n  name: 'Customer',\n  components: {\n    'customer-dynamic': customerDynamic,\n    'customer-info': customerInfo,\n    'customer-contacts': customerContacts,\n    'customer-cooperation': customerCooperation,\n    'customer-visit': customerVisit,\n    'customer-creation': customerCreation,\n    'customer-quotation': customerQuotation,\n    'customer-commerce': customerCommerce,\n    'customer-investigation': customerInvestigation,\n    'customer-signing': customerSigning,\n    'customer-loan': customerLoan,\n    'customer-afterloan': customerAfterloan\n  },\n  data: function data() {\n    return {\n      active: 0,\n      id: '',\n      tabData: {},\n      showtype: [],\n      TTarrName: ['动态', '信息', '联系人', '协作人', '拜访', '立项', '报价', '尽调', '上会', '签约', '投放', '贷后'],\n      TTarrType: [true, true, true, true, true, true, true, true, true, true, true, true]\n    };\n  },\n  watch: {\n    active: function active(newV, oldV) {\n      console.log('active', 'n=', newV, 'o=', oldV);\n      this.$store.commit('SET_ACTIVE', newV);\n      return;\n    }\n  },\n  destroyed: function destroyed() {// this.$store.commit('SET_ACTIVE', 0)\n  },\n  created: function created() {\n    // this.$store.commit('SET_USER_DATA', {})\n    this.active = this.$store.getters.active;\n    this.getRouterData();\n    console.log('this.showtype', this.showtype);\n    this.getData();\n    this.getPowerList();\n  },\n  methods: {\n    getRouterData: function getRouterData() {\n      this.id = this.$route.query.id;\n    },\n    getData: function getData() {\n      var _this = this;\n\n      var params = {\n        id: this.id\n      };\n      firmInfo(params).then(function (res) {\n        _this.tabData = res.data;\n        console.log('企业信息firmInfo', res);\n\n        _this.$store.commit('SET_USER_DATA', res.data);\n      });\n    },\n    getPowerList: function getPowerList() {\n      var _this2 = this;\n\n      var powerList = this.$store.getters.powerList; // eslint-disable-next-line array-callback-return\n\n      this.TTarrName.map(function (d, idx) {\n        _this2.TTarrType[idx] = powerList.TTarr.indexOf(d) > -1;\n      });\n    }\n  }\n};",{"version":3,"sources":["customer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div name=\"customer\">\n    <div class=\"container\">\n      <div class=\"header_info\">\n        <div class=\"info_top\">\n          <div class=\"headerImg\">\n            <div class=\"headLogo\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"text_info\">\n            <p class=\"companyName\">\n              {{ tabData.companyName }}\n            </p>\n            <p class=\"job\">\n              {{ tabData.companyIndustry }}\n            </p>\n            <p class=\"address\">\n              地址:{{ tabData.companyAdress }}\n            </p>            \n            <p class=\"address\">\n              <span>最后跟进时间:{{ tabData.finalFollowUpTime }}</span>              \n            </p>\n            <p class=\"address\">\n              跟进事件:{{ tabData.actionType }}\n            </p>\n            <p class=\"address\">\n              跟进人:{{ tabData.operatorName }}\n            </p>\n            <p class=\"address\">\n              授信剩余额度:({{ tabData.companyCreditQuota-tabData.companyUsedCreditQuota }})万元\n            </p>\n          </div>\n        </div>\n\n        <van-tabs\n          v-model=\"active\"\n          swipeable\n          sticky\n          color=\"#03C061\"\n          title-active-color=\"#03C061\"\n          background=\"#e2ede8\"\n        >\n          <!-- tab第1页 -->\n          <van-tab\n            v-if=\"TTarrType[0]\"\n            :title=\"'动态'\"\n          >\n            <customer-dynamic />\n          </van-tab>\n          <!-- tab第2页 -->\n          <van-tab\n            v-if=\"TTarrType[1]\"\n            :title=\"'信息'\"\n          >\n            <customer-info />\n          </van-tab>\n          <!-- tab第3页 -->\n          <van-tab\n            v-if=\"TTarrType[2]\"\n            :title=\"'联系人'\"\n          >\n            <customer-contacts />\n          </van-tab>\n\n          <!-- tab第4页 -->\n          <van-tab\n            v-if=\"TTarrType[3]\"\n            :title=\"'协作'\"\n          >\n            <customer-cooperation />\n          </van-tab>\n\n          <!-- tab第5页 -->\n          <van-tab\n            v-if=\"TTarrType[4]\"\n            :title=\"'拜访'\"\n          >\n            <customer-visit />\n          </van-tab>\n\n          <van-tab\n            v-if=\"TTarrType[5]\"\n            :title=\"'项目列表'\"\n          >\n            <customer-creation />\n          </van-tab>\n\n          <van-tab\n            v-if=\"TTarrType[6]\"\n            :title=\"'报价'\"\n          >\n            <customer-quotation />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[7]\"\n            :title=\"'尽调'\"\n          >\n            <customer-investigation />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[8]\"\n            :title=\"'上会'\"\n          >\n            <customer-commerce />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[9]\"\n            :title=\"'签约'\"\n          >\n            <customer-signing />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[10]\"\n            :title=\"'投放'\"\n          >\n            <customer-loan />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[11]\"\n            :title=\"'贷后'\"\n          >\n            <customer-afterloan />\n          </van-tab>\n        </van-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import { api, get } from \"@api\"\nimport { firmInfo } from '@/service/customer'\n// import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\nimport customerDynamic from './tab-dynamic.vue'\nimport customerInfo from './tab-info.vue'\nimport customerContacts from './tab-contacts.vue'\nimport customerCooperation from './tab-cooperation.vue'\nimport customerVisit from './tab-visit.vue'\nimport customerCreation from './tab-creation.vue'\nimport customerQuotation from './tab-quotation.vue'\nimport customerCommerce from './tab-commerce.vue'\nimport customerInvestigation from './tab-investigation.vue'\nimport customerSigning from './tab-signing.vue'\nimport customerLoan from './tab-loan.vue'\nimport customerAfterloan from './tab-afterloan.vue'\n\nexport default {\n  name: 'Customer',\n  components: {\n    'customer-dynamic': customerDynamic,\n    'customer-info': customerInfo,\n    'customer-contacts': customerContacts,\n    'customer-cooperation': customerCooperation,\n    'customer-visit': customerVisit,\n    'customer-creation': customerCreation,\n    'customer-quotation': customerQuotation,\n    'customer-commerce': customerCommerce,\n    'customer-investigation': customerInvestigation,\n    'customer-signing': customerSigning,\n    'customer-loan': customerLoan,\n    'customer-afterloan': customerAfterloan,\n  },\n  data() {\n    return {\n      active:0,\n      id: '',\n      tabData: {},\n      showtype: [],\n      TTarrName: ['动态', '信息', '联系人', '协作人', '拜访', '立项', '报价', '尽调', '上会', '签约', '投放', '贷后'],\n      TTarrType: [true, true, true, true, true, true, true, true, true, true, true, true],\n    }\n  },\n  watch:{\n    active(newV,oldV){\n      console.log('active','n=',newV,'o=',oldV)\n      this.$store.commit('SET_ACTIVE',newV)\n      return \n    }\n  },\n  destroyed() {\n    // this.$store.commit('SET_ACTIVE', 0)\n  },\n  created() {\n    // this.$store.commit('SET_USER_DATA', {})\n    this.active = this.$store.getters.active\n    this.getRouterData()\n    console.log('this.showtype', this.showtype)\n    this.getData()\n    this.getPowerList()\n  },\n  methods: {\n    getRouterData() {\n      this.id = this.$route.query.id\n    },\n    getData() {\n      const params = {\n        id: this.id,\n      }\n      firmInfo(params).then((res) => {\n        this.tabData = res.data\n        console.log('企业信息firmInfo',res)\n        this.$store.commit('SET_USER_DATA', res.data)\n      })\n    },\n    getPowerList() {\n      const { powerList } = this.$store.getters\n      // eslint-disable-next-line array-callback-return\n      this.TTarrName.map((d, idx) => {\n        this.TTarrType[idx] = powerList.TTarr.indexOf(d) > -1\n      })\n    },\n\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.container {\n  width: 100%;\n  .header_info {\n    width: 100%;\n    background: #e2ede8;\n    .info_top {\n      width: 100%;\n      padding: 20px;\n      box-sizing: border-box;\n      display: flex;\n      .headerImg {\n        width: 60px;\n        .headLogo {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background: #ffffff;\n          overflow: hidden;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .text_info {\n        width: 100%;\n        .companyName {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          color: #333333;\n          font-weight: bold;\n          font-size: 14px;\n        }\n        .job {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          color: #333333;\n          font-size: 14px;\n        }\n        .address {\n          width: 100%;\n          line-height: 25px;\n          color: #333333;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/customerManagement"}]}