{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/oc-works/fuli/src/views/customerManagement/tab-cooperation.vue?vue&type=style&index=0&id=4886e65f&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/views/customerManagement/tab-cooperation.vue","mtime":1564134165925},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/less-loader/dist/cjs.js","mtime":1564134317354},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.contact_container4 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab4_box {\n    width: 100%;\n    .tab4-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      display: flex;\n      position: relative;\n      .delete-icon {\n        position: absolute;\n        top: 36px;\n        right: 16px;\n      }\n      .tab4-left-box {\n        width: 80px;\n        .img-box {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background: #cccccc;\n          overflow: hidden;\n          margin-top: 5px;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .tab4-right-box {\n        width: 100%;\n        .title-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 16px;\n          font-weight: bold;\n          color: #333333;\n          margin-bottom: 10px;\n        }\n        .value-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 14px;\n          color: #999999;\n        }\n      }\n    }\n    .tab4_title {\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      color: #999999;\n      font-size: 14px;\n      font-weight: bold;\n      padding: 0 15px;\n      box-sizing: border-box;\n    }\n  }\n  .tab4-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n.tab-footer {\n  width: 100%;\n  height: 70px;\n  background: #fcfcfc;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  padding: 0 10px;\n  box-sizing: border-box;\n}\n",{"version":3,"sources":["tab-cooperation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tab-cooperation.vue","sourceRoot":"src/views/customerManagement","sourcesContent":["<template>\n  <div name=\"cooperation\">\n    <div class=\"contact_container4\">\n      <div class=\"tab4_box\">\n        <div\n          class=\"tab4_title\"\n          style=\"display: flex;justify-content: space-between;\"\n        >\n          <span style=\"flex:1\">客户主负责人</span>\n\n          <span\n            v-if=\"PermissionObj['cooperationinfo_update'] != undefined&&collaboratorData.principal.id==$store.getters.userInfo.id\"             \n            style=\"line-height:30px;padding:0;flex:1;color:#03c061;text-align: right;\"            \n            @click=\"routerTo(2)\"\n          >\n            变更主要负责人\n          </span>\n        </div>\n        <div class=\"tab4-list\">\n          <div class=\"tab4-left-box\">\n            <div class=\"img-box\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"tab4-right-box\">\n            <p class=\"title-p\">\n              {{ collaboratorData.principal.name }}\n            </p>\n            <p class=\"value-p\">\n              {{ collaboratorData.principal.roleVOS[0].roleName }}\n            </p>\n          </div>\n        </div>\n\n        <div\n          v-if=\"collaboratorData.leaderUserVOS.length!=0\"\n          class=\"tab4_title\"\n        >\n          <span>上级领导</span>\n        </div>\n        <div\n          v-for=\"(item) in collaboratorData.leaderUserVOS\"\n          :key=\"item.uid\"\n          class=\"tab4-list\"\n        >\n          <div class=\"tab4-left-box\">\n            <div class=\"img-box\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"tab4-right-box\">\n            <p class=\"title-p\">\n              {{ item.name }}\n            </p>\n            <p class=\"value-p\">\n              {{ item.roleVOS[0].roleName }}\n            </p>\n          </div>\n        </div>\n\n        <div\n          v-if=\"collaboratorData.collaboratorUserVOS.length!=0\"\n          class=\"tab4_title\"\n        >\n          <span>协作人</span>\n        </div>\n        <div\n          v-for=\"(item) in collaboratorData.collaboratorUserVOS\"\n          :key=\"item.uid\"\n          class=\"tab4-list\"\n        >\n          <div class=\"tab4-left-box\">\n            <div class=\"img-box\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"tab4-right-box\">\n            <p class=\"title-p\">\n              {{ item.name }}\n            </p>\n            <p class=\"value-p\">\n              {{ item.roleVOS[0].roleName }}\n            </p>\n          </div>\n          <!-- <span class=\"iconfont iconshanchu theme-colors delete-icon\" /> -->\n        </div>\n      </div>\n\n      <div\n        v-if=\"PermissionObj['cooperationinfo_update'] != undefined\"\n        class=\"tab-footer\"\n      >\n        <van-button\n          v-if=\"!isCollaboraType\"\n          to=\"/addCooperation\"\n          class=\"gradual-btn\"\n          style=\"width:100%;\"\n          type=\"primary\"\n        >\n          管理协作人\n        </van-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import { api, get } from \"@api\";\n// import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\nimport { collaboratorList } from '@/service/customer'\nexport default {\n  name: 'Cooperation',\n  data() {\n    return {\n      PermissionObj:this.$store.state.powerList.PermissionObj,///权限\n      collaboratorData:{\n        principal:{\n          name:''\n        },\n        leaderUserVOS:[],\n        collaboratorUserVOS:{}\n      },\n      isCollaboraType:false,//标识当前用户是否是协作人身份\n    }\n  },\n  computed: {},\n  created() { \n    this.getCollaborator()\n  },\n  methods: {\n    routerTo(type){\n      if(type==2){\n        this.$router.push({\n          path:'/addCooperation',\n          query:{\n            type:2\n          }\n        })\n      }else{\n        this.$router.push({\n          path:'/addCooperation',\n          query:{\n            id:this.$route.query.id\n          }\n        })\n      }\n      \n    },\n    //协作人list\n    getCollaborator(){\n      console.log(this.$store.getters.userData)\n      collaboratorList({\n        id:this.$route.query.id\n      }).then(res=>{\n        this.collaboratorData = res.data\n        console.log('协作人list',res)\n        if(res.data.collaboratorUserVOS){\n          res.data.collaboratorUserVOS.map(d=>{\n            if(d.id == this.$store.getters.userInfo.id){\n              this.isCollaboraType = true\n            }\n          })\n        }\n        \n        \n      })\n    }\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.contact_container4 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab4_box {\n    width: 100%;\n    .tab4-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      display: flex;\n      position: relative;\n      .delete-icon {\n        position: absolute;\n        top: 36px;\n        right: 16px;\n      }\n      .tab4-left-box {\n        width: 80px;\n        .img-box {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background: #cccccc;\n          overflow: hidden;\n          margin-top: 5px;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .tab4-right-box {\n        width: 100%;\n        .title-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 16px;\n          font-weight: bold;\n          color: #333333;\n          margin-bottom: 10px;\n        }\n        .value-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 14px;\n          color: #999999;\n        }\n      }\n    }\n    .tab4_title {\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      color: #999999;\n      font-size: 14px;\n      font-weight: bold;\n      padding: 0 15px;\n      box-sizing: border-box;\n    }\n  }\n  .tab4-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n.tab-footer {\n  width: 100%;\n  height: 70px;\n  background: #fcfcfc;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  padding: 0 10px;\n  box-sizing: border-box;\n}\n</style>\n"]}]}