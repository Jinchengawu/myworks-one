{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/oc-works/fuli/src/views/addApproval/addApproval.vue?vue&type=style&index=0&id=391cb657&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/views/addApproval/addApproval.vue","mtime":1564472355647},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/less-loader/dist/cjs.js","mtime":1564134317354},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container {\n  width: 100%;\n  padding-bottom: 100px;\n  .select-list {\n    width: 100%;\n    padding: 0px 0px 0px 15px;\n    box-sizing: border-box;\n    .addborder {\n      border-bottom: 1px solid #f5f6f8;\n    }\n    .list {\n      width: 100%;\n      height: 40px;\n      display: flex;\n      line-height: 40px;\n      background-color: #fff;\n      color: #323233;\n      font-size: 14px;\n      overflow: hidden;\n      color: #323233;\n      font-size: 14px;\n      box-sizing: border-box;\n      padding-right: 15px;\n      .left {\n        max-width: 90px;\n        height: 40px;\n      }\n      .right {\n        flex: 1;\n        height: 40px;\n        text-align: right;\n        select {\n          width: 100%;\n          height: 40px;\n          text-align: right;\n          border: none;\n          outline: none;\n          appearance: none;\n          -moz-appearance: none;\n          -webkit-appearance: none;\n          -ms-appearance: none;\n          direction: rtl;\n          text-indent: 5px;\n          background: #ffffff;\n        }\n      }\n    }\n    .saojiao {\n      width: 0;\n      height: 0;\n      border-width: 6px;\n      border-style: solid;\n      border-color: #323233 transparent transparent transparent;\n      margin-top: 17px;\n    }\n    .timeBox {\n      width: 25px;\n      height: 40px;\n      text-align: right;\n    }\n  }\n  .footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n",{"version":3,"sources":["addApproval.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addApproval.vue","sourceRoot":"src/views/addApproval","sourcesContent":["<template>\n  <div class=\"addApproval\">\n    <div class=\"container\">\n      <van-cell-group :border=\"false\">\n        <van-field\n          v-model=\"EventsData.projectName\"\n          label=\"项目名称\"\n          type=\"text\"\n          input-align=\"right\"\n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"upType==2\"\n        />\n        <div class=\"select-list\">\n          <div class=\"list\">\n            <div class=\"left\">\n              投放方式\n            </div>\n            <div class=\"right\">\n              <select\n                v-model=\"EventsData.deliveryMode\"\n                v-placeholder=\"{color: EventsData.deliveryMode}\"\n                \n                :disabled=\"OTP\"\n              >\n                <option\n                  v-for=\"(item,idx) in deliveryModeList\"\n                  :key=\"idx\"\n                  :value=\"item\"\n                >\n                  {{ item }}\n                </option>\n              </select>\n            </div>\n            <div\n              v-sanjiao=\"{color: EventsData.deliveryMode}\"\n              class=\"saojiao\"\n            />\n          </div>\n        </div>\n        <van-field\n          v-model=\"EventsData.companyName\"\n          label=\"公司名称\"\n          type=\"text\"\n          input-align=\"right\"\n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"true\"\n        />\n        <van-field\n          v-model=\"EventsData.lessee\"\n          label=\"承租人\"\n          type=\"text\"\n          input-align=\"right\"\n          placeholder=\"请填写承租人信息\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"upType==2\"\n        />        \n        <div class=\"money-text\">\n          <van-field\n            v-model=\"EventsData.projectAmount\"\n            style=\"width:90%\"\n            label=\"项目金额\"\n            type=\"number\"\n            input-align=\"right\"\n            placeholder=\"请输入项目金额 单位:\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n            @input=\"iptChange({t:2,k:'projectAmount',v:EventsData.projectAmount})\"\n          />\n          <span class=\"right-text\">万元</span>\n        </div>\n        <van-field\n          v-model=\"EventsData.useOfFunds\"\n          label=\"资金用途\"\n          type=\"text\"\n          input-align=\"right\"\n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"upType==2\"\n        />\n        <div\n          v-if=\"upType==2\"\n          style=\"text-align:center;font-size:14px\"\n        >\n          -- 最新进展 --\n        </div>\n        <div\n          v-if=\"EventsData.totalProjectCreditQuota\"\n          class=\"money-text\"\n        >\n          <van-field\n            v-model=\"EventsData.totalProjectCreditQuota\"\n            \n            style=\"width:90%\"\n            label=\"授信总额度\"\n            type=\"text\"\n            input-align=\"right\"\n            placeholder=\"请输入\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n          /> \n          <span class=\"right-text\">万元</span>\n        </div> \n        <div\n          v-if=\"EventsData.rentaInterestRate\"\n          class=\"money-text\"\n        >\n          <van-field\n            \n            v-model=\"EventsData.rentaInterestRate\"\n            label=\"租赁利率\"\n            style=\"width:90%\"\n            type=\"text\"\n            input-align=\"right\"\n            placeholder=\"请输入\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n          /> \n          <span class=\"right-text\">%</span>\n        </div>\n        <van-field\n          v-if=\"EventsData.totalProjectCreditQuota\"\n          v-model=\"EventsData.useOfFunds\"\n          label=\"资金用途\"\n          type=\"text\"\n            \n          input-align=\"right\"\n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"upType==2\"\n        /> \n        <div\n          v-if=\"EventsData.bond\"\n          class=\"money-text\"\n        >  \n          <van-field\n            \n            v-model=\"EventsData.bond\"\n            label=\"保证金\"\n            style=\"width:90%\"\n            type=\"text\"\n            input-align=\"right\"\n            placeholder=\"请输入\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n          /> \n          <span class=\"right-text\">万元</span>\n        </div>\n        <div\n          v-if=\"EventsData.serviceCharge\"\n          class=\"money-text\"\n        >\n          <van-field\n            \n            v-model=\"EventsData.serviceCharge\"\n            label=\"服务费\"\n            style=\"width:90%\"\n            type=\"text\"\n            input-align=\"right\"\n            placeholder=\"请输入\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n          /> \n          <span class=\"right-text\">元</span>\n        </div>  \n        <van-field\n          v-if=\"EventsData.guarantorName\"\n          v-model=\"EventsData.guarantorName\"\n          label=\"保证人名称\"\n          type=\"text\"\n            \n          input-align=\"right\"\n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"upType==2\"\n        /> \n        <van-field\n          v-if=\"EventsData.pledge\"\n          v-model=\"EventsData.pledge\"\n          label=\"抵质押\"\n          type=\"text\"\n          input-align=\"right\"\n            \n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"upType==2\"\n        /> \n        <div\n          v-if=\"EventsData.contractAmount\"\n          class=\"money-text\"\n        >  \n          <van-field\n            \n            v-model=\"EventsData.contractAmount\"\n            label=\"合同金额\"\n            type=\"text\"\n            input-align=\"right\"\n            placeholder=\"请输入\"\n            :error=\"false\"\n            style=\"width:90%\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n          /> \n          <span class=\"right-text\">万元</span>\n        </div>\n        <div\n          v-if=\"EventsData.lendAllAmount\"\n          class=\"money-text\"\n        >\n          <van-field\n            \n            v-model=\"EventsData.lendAllAmount\"\n            label=\"投放金额\"\n            type=\"text\"\n            input-align=\"right\"\n            placeholder=\"请输入\"\n            style=\"width:90%\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"upType==2\"\n          /> \n          <span class=\"right-text\">万元</span>\n        </div>\n      </van-cell-group>\n\n      <div\n        v-if=\"upType!=2\"\n        class=\"footer\"\n      >\n        <van-button\n          \n          class=\"gradual-btn\"\n          style=\"width:100%;\"\n          type=\"primary\"\n          @click=\"clickAddEvents\"         \n        >\n          确认立项\n        </van-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { addProject,idProject } from '@/service/customer'\nimport { mapState } from 'vuex'\nimport { formatDate,strChange } from '@/utils'\n// import { formatDate, isNull } from '@/utils'\nexport default {\n  name: 'AddApproval',\n  //workType:1,默认;2,只读;3父组件引用需返回EvaentsData的值\n  props:{\n    workType: {\n      type: Number,\n      default: null\n    },\n    upIng: {\n      type: Boolean,\n      default: false\n    },\n    //事件标识\n    isNo:{\n      type:Number ,\n    },\n  },\n  data() {\n    return {      \n      EventsData: {\n        projectName: '', // 项目名称\n        projectAmount: '', // 项目金额\n        lessee: '', // 承租人\n        // guarantee: '', // 担保人\n        // mainBusiness: '', // 主营业务\n        useOfFunds: '', // 资金用途\n        deliveryMode:'直租',\n      },\n      upType:1,\n      deliveryModeList:['直租','售后回租','其他'],\n      OTP:false\n    }\n  },\n  computed: {\n    ...mapState(['companyName']),\n  },\n  watch:{\n    upIng(newV,oldV){\n      // console.log('upIng',newV,oldV)\n\n      let params = {\n        information:JSON.stringify(this.EventsData),\n        \"menuType\":2,\n\t\t    \"companyId\":1,\n\t\t    \"projectId\":15,\n\t\t    \"userId\":1,\n        \"userName\":\"quito\",\n        isNo:this.isNo\n      }\n      this.$emit('upedChange',params)\n      \n      return\n    },\n  },\n  mounted() {\n\n  },\n  created() {\n    if(this.$route.query.id){\n      this.getIdProject(this.$route.query.id)\n      this.upType =2\n      this.OTP=true//当前打开该详情的状态\n    }\n    // this.workType = this.workType || 1\n    this.EventsData.companyName=this.$store.getters.userData.companyName\n    this.EventsData.companyId= this.$store.getters.userData.companyId\n    const nowDate = new Date(new Date().toLocaleDateString()) // 获取当前时间\n    this.minDate = new Date(nowDate.getTime() - 2 * 24 * 60 * 60 * 1000)\n  },\n  methods:{\n    //输入框更新\n    iptChange(value){\n      let v = strChange(value)      \n      if(!v)return\n      this.$set(this.EventsData,value.k,v.v)\n    },\n    //根据id获取目标详情\n    getIdProject(id){\n      idProject({id:id}).then(res=>{\n        console.log('idProject',res.information)\n        this.EventsData = res.information\n      })\n    },\n    callBack(){\n      this.$emit('addCall',this.EventsData)\n    },\n    clickAddEvents() {      \n      const EventsData = {}\n      EventsData.information = JSON.stringify(this.EventsData)       \n      EventsData.menuType = 1\n      addProject(EventsData).then(res=>{\n        if(!res.status){\n          this.$notify(res.message)\n        }else{\n          this.$router.go(-1)\n        }\n      })\n    },\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.container {\n  width: 100%;\n  padding-bottom: 100px;\n  .select-list {\n    width: 100%;\n    padding: 0px 0px 0px 15px;\n    box-sizing: border-box;\n    .addborder {\n      border-bottom: 1px solid #f5f6f8;\n    }\n    .list {\n      width: 100%;\n      height: 40px;\n      display: flex;\n      line-height: 40px;\n      background-color: #fff;\n      color: #323233;\n      font-size: 14px;\n      overflow: hidden;\n      color: #323233;\n      font-size: 14px;\n      box-sizing: border-box;\n      padding-right: 15px;\n      .left {\n        max-width: 90px;\n        height: 40px;\n      }\n      .right {\n        flex: 1;\n        height: 40px;\n        text-align: right;\n        select {\n          width: 100%;\n          height: 40px;\n          text-align: right;\n          border: none;\n          outline: none;\n          appearance: none;\n          -moz-appearance: none;\n          -webkit-appearance: none;\n          -ms-appearance: none;\n          direction: rtl;\n          text-indent: 5px;\n          background: #ffffff;\n        }\n      }\n    }\n    .saojiao {\n      width: 0;\n      height: 0;\n      border-width: 6px;\n      border-style: solid;\n      border-color: #323233 transparent transparent transparent;\n      margin-top: 17px;\n    }\n    .timeBox {\n      width: 25px;\n      height: 40px;\n      text-align: right;\n    }\n  }\n  .footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n</style>\n"]}]}