{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/oc-works/fuli/src/views/customerManagement/tab-loan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/views/customerManagement/tab-loan.vue","mtime":1564472355648},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n  lendPage,\n} from '@/service/customer'\n// import { api, get } from \"@api\";\n// import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\n\nexport default {\n  name: 'Loan',\n  data() {\n    return {\n      PermissionObj:this.$store.state.powerList.PermissionObj,///权限\n      lendList: [],\n      searchObj:{}\n    }\n  },\n  computed: {},\n  created() {\n    this.selectInput = '777'\n    this.getLendPage()\n  },\n  methods: {\n    changSearch() { },\n    search(){\n      this.getLendPage(this.searchObj)      \n    },\n    //获取当前页面数据\n    getLendPage(searchObj) {\n      let params = searchObj || {}\n      params.size = 1000\n      lendPage(searchObj).then((res) => {\n        res.data.data = res.data.data || []\n        console.log('lendPage', res)\n        this.lendList = res.data.data\n      })\n    },\n    routerTo(id,type) {\n      this.$router.push({\n        path: '/addLoan',\n        query: {\n          id,\n          OTP:type\n        },\n      })\n    },\n  },\n}\n",{"version":3,"sources":["tab-loan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tab-loan.vue","sourceRoot":"src/views/customerManagement","sourcesContent":["<template>\n  <div name=\"loan\">\n    <div class=\"contact_container5\">\n      <div class=\"tab5_box\">\n        <div class=\"tab5-search\">\n          <div class=\"search-left\">\n            <div class=\"search-left-left\">\n              <span\n                style=\"color:#B2B2B2;margin-left:10px;\"\n                class=\"iconfont iconserach\"\n              />\n            </div>\n            <div class=\"search-left-center\">\n              <input\n                v-model=\"searchObj.projectName\"\n                type=\"text\"\n                placeholder=\"请输入项目名称\"\n              >\n            </div>\n            <div class=\"search-left-right\">\n              <span>筛选</span>\n              <span\n                style=\"font-size:12px; position: relative;top:1px;\"\n                class=\"iconfont iconshaixuan\"\n              />\n              <select\n                v-model=\"searchObj.status\"\n                @change=\"changSearch()\"\n              >\n                <option value=\"1\">\n                  待创建\n                </option>\n                <option value=\"2\">\n                  已创建\n                </option>\n                <option value=\"3\">\n                  已完成\n                </option>\n                <option value=\"\">\n                  取消\n                </option>\n              </select>\n            </div>\n          </div>\n          <div class=\"search-right\">\n            <van-button\n              style=\"border-radius:0;height:32px;\"\n              size=\"small\"\n              type=\"primary\"\n              @click=\"search\"\n            >\n              搜索\n            </van-button>\n          </div>\n        </div>\n\n        <div\n          v-for=\"(itm,idx) in lendList\"\n          :key=\"idx\"\n          class=\"tab5-list\"\n          @click.stop=\"routerTo(itm.id)\"\n        >\n          <div class=\"tab5-list-tilte\">\n            <p class=\"span1\">\n              {{ itm.companyName }}\n            </p>\n            <p class=\"span2\">\n              <span\n                v-if=\"PermissionObj['loan_risk_confirm'] != undefined ||PermissionObj['loan_finance_confirm'] != undefined \"\n                v-show=\"itm.status==1\"\n                class=\"theme-colors-text-btn\"\n                @click.stop=\"routerTo(itm.id,1)\"\n              >\n                新增投放\n              </span>\n              <span\n                v-if=\"PermissionObj['loan_risk_confirm'] != undefined ||PermissionObj['loan_finance_confirm'] != undefined \"\n                \n                class=\"theme-colors-text-btn\"\n                @click.stop=\"routerTo(itm.id,itm.status)\"\n              >\n                <span v-if=\"itm.lendingItemVO\">{{ itm.lendingItemVO.itemStatusName }}</span> \n              </span>\n              <!-- <span\n                v-if=\"PermissionObj['loan_risk_confirm'] != undefined ||PermissionObj['loan_finance_confirm'] != undefined \"\n                v-show='itm.status==2'\n                class=\"theme-colors-text-btn\"\n                @click.stop=\"routerTo(itm.id,itm.status)\"\n              >\n                确认投放\n              </span> -->\n              <!-- <span\n                v-if=\"PermissionObj['loan_risk_confirm'] != undefined ||PermissionObj['loan_finance_confirm'] != undefined \"\n                v-show='itm.status==3'\n                class=\"theme-colors-text-btn\"                \n              >\n                已完成\n              </span> -->\n            </p>\n          </div>\n          <div class=\"tab5-list-p\">\n            合同金额:{{ itm.contractAmount }}万元（剩余￥{{ (itm.contractAmount - itm.lendAllAmount) }}万元）\n          </div>\n          <div class=\"tab5-list-p\">\n            投放金额:{{ itm.lendAllAmount }}万元 <span v-if=\"itm.lendingItemVO\">（第{{ itm.lendingTime }}次投放）</span>  \n          </div>\n          <div class=\"tab5-list-p\">\n            时间:{{ itm.createTime }}\n          </div>\n          <div class=\"tab5-list-p\">\n            <span class=\"span-left\">所属项目:{{ itm.projectName }}</span>\n            <span class=\"span-right\">{{ itm.statusName }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  lendPage,\n} from '@/service/customer'\n// import { api, get } from \"@api\";\n// import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\n\nexport default {\n  name: 'Loan',\n  data() {\n    return {\n      PermissionObj:this.$store.state.powerList.PermissionObj,///权限\n      lendList: [],\n      searchObj:{}\n    }\n  },\n  computed: {},\n  created() {\n    this.selectInput = '777'\n    this.getLendPage()\n  },\n  methods: {\n    changSearch() { },\n    search(){\n      this.getLendPage(this.searchObj)      \n    },\n    //获取当前页面数据\n    getLendPage(searchObj) {\n      let params = searchObj || {}\n      params.size = 1000\n      lendPage(searchObj).then((res) => {\n        res.data.data = res.data.data || []\n        console.log('lendPage', res)\n        this.lendList = res.data.data\n      })\n    },\n    routerTo(id,type) {\n      this.$router.push({\n        path: '/addLoan',\n        query: {\n          id,\n          OTP:type\n        },\n      })\n    },\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.contact_container5 {\n  width: 100%;\n  padding: 10px 10px 0px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab5_box {\n    width: 100%;\n    .tab5-search {\n      width: 100%;\n      height: 34px;\n      display: flex;\n      border-radius: 1px;\n      margin-bottom: 10px;\n      height: 34px;\n      border-top: 1px solid #aebab4;\n      border-bottom: 1px solid #aebab4;\n      border-left: 1px solid #aebab4;\n      box-sizing: border-box;\n      .search-left {\n        flex: 1;\n        height: 32px;\n        line-height: 32px;\n        display: flex;\n        background: #ffffff;\n        .search-left-left {\n          width: 32px;\n          height: 32px;\n        }\n        .search-left-center {\n          flex: 1;\n          height: 32px;\n          input {\n            width: 100%;\n            height: 30px;\n            padding: 0 10px;\n            font-size: 12px;\n            color: #333333;\n          }\n        }\n        .search-left-right {\n          width: 50px;\n          height: 32px;\n          font-size: 12px;\n          color: #333333;\n          position: relative;\n          select {\n            width: 100%;\n            height: 32px;\n            position: absolute;\n            top: 0;\n            left: 0;\n            opacity: 0;\n          }\n        }\n      }\n      .search-right {\n        height: 32px;\n      }\n    }\n    .tab5-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      .tab5-list-tilte {\n        width: 100%;\n        height: 35px;\n        line-height: 35px;\n        margin-bottom: 15px;\n        .span1 {\n          font-size: 16px;\n          color: #333333;\n          font-weight: bold;\n          float: left;\n        }\n        .span2 {\n          font-size: 12px;\n          float: right;\n          font-weight: bold;\n        }\n      }\n      .tab5-list-p {\n        width: 100%;\n        height: 30px;\n        line-height: 30px;\n        font-size: 14px;\n        color: #333333;\n        .span-left {\n          width: 70%;\n          display: block;\n          float: left;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .span-right {\n          float: right;\n          color: #999999;\n        }\n      }\n      .tab5-list-p1 {\n        font-size: 14px;\n        color: #999999;\n      }\n    }\n  }\n}\n</style>\n"]}]}