{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/oc-works/fuli/src/views/addCooperation/addCooperation.vue?vue&type=style&index=0&id=180f7f76&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/views/addCooperation/addCooperation.vue","mtime":1564134165920},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/less-loader/dist/cjs.js","mtime":1564134317354},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.contact_container4 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab4_box {\n    width: 100%;\n    .tab4-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      display: flex;\n      position: relative;\n      .delete-icon {\n        position: absolute;\n        top: 36px;\n        right: 16px;\n      }\n      .tab4-left-box {\n        width: 80px;\n        .img-box {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background: #cccccc;\n          overflow: hidden;\n          margin-top: 5px;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .tab4-right-box {\n        width: 100%;\n        .title-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 16px;\n          font-weight: bold;\n          color: #333333;\n          margin-bottom: 10px;\n        }\n        .value-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 14px;\n          color: #999999;\n        }\n      }\n    }\n    .tab4_title {\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      color: #999999;\n      font-size: 14px;\n      font-weight: bold;\n      padding: 0 15px;\n      box-sizing: border-box;\n    }\n  }\n  .tab4-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n.tab-footer {\n  width: 100%;\n  height: 70px;\n  background: #fcfcfc;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  padding: 0 10px;\n  box-sizing: border-box;\n}\n",{"version":3,"sources":["addCooperation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addCooperation.vue","sourceRoot":"src/views/addCooperation","sourcesContent":["<template>\n  <div class=\"addCooperation\">\n    <div class=\"contact_container4\">\n      <div class=\"tab4_box\">\n        <div class=\"tab4_title\">\n          <span>客户主负责人</span>\n        </div>\n        <div class=\"tab4-list\">\n          <div class=\"tab4-left-box\">\n            <div class=\"img-box\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"tab4-right-box\">\n            <p class=\"title-p\">\n              {{ collaboratorData.principal.name }}\n            </p>\n            <p class=\"value-p\">\n              {{ collaboratorData.principal.roleVOS[0].roleName }}\n            </p>\n          </div>\n        </div>\n\n        <div\n          v-if=\"collaboratorData.leaderUserVOS.length!=0&&$route.query.OTP!=2\"\n          class=\"tab4_title\"\n        >\n          <span>上级领导</span>\n        </div>\n        <div v-if=\"collaboratorData.leaderUserVOS.length!=0&&$route.query.OTP!=2\">\n          <div\n            v-for=\"(item) in collaboratorData.leaderUserVOS\"          \n            :key=\"item.uid\"\n            class=\"tab4-list\"\n          >\n            <div class=\"tab4-left-box\">\n              <div class=\"img-box\">\n                <img src>\n              </div>\n            </div>\n            <div class=\"tab4-right-box\">\n              <p class=\"title-p\">\n                {{ item.userNo }}\n              </p>\n              <p class=\"value-p\">\n                {{ item.name }}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div\n          v-if=\"collaboratorData.collaboratorUserVOS.length!=0&&$route.query.OTP!=2\"\n          class=\"tab4_title\"\n        >\n          <span>协作人</span>\n        </div>\n        <div v-if=\"collaboratorData.collaboratorUserVOS.length!=0&&$route.query.OTP!=2\">\n          <div \n            v-for=\"(item) in collaboratorData.collaboratorUserVOS\"                     \n            :key=\"item.uid\"            \n            class=\"tab4-list\"                      \n          >\n            <div class=\"tab4-left-box\">\n              <div class=\"img-box\">\n                <!-- <img src> -->\n              </div>\n            </div>\n            <div class=\"tab4-right-box\">\n              <p class=\"title-p\">\n                {{ item.userNo }}\n              </p>\n              <p class=\"value-p\">\n                {{ item.name }}\n              </p>\n            </div>\n            <van-checkbox\n              v-if=\"$route.query.type!=2\"\n              v-model=\"item.isEmployee\"\n              class=\"delete-icon\"   \n              checked-color=\"#03C061\"\n            />\n            <van-radio-group\n              v-if=\"$route.query.type==2\"\n              v-model=\"radio\"\n            >   \n              <van-radio\n                checked-color=\"#03C061\"\n                :name=\"item.id\"\n                class=\"delete-icon\"\n              />  \n            </van-radio-group>          \n          </div>        \n        </div>\n      </div>\n\n      <div class=\"tab-footer\">\n        <van-button\n          v-if=\"$route.query.OTP!=2\"\n          class=\"gradual-btn\"\n          style=\"width:100%;\"\n          type=\"primary\"\n          @click=\"setBut\"\n        >\n          保存\n        </van-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import { api, get, post } from \"@/service\";\n// import { mapState } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\nimport { collaboratorIdInfo,collaboratorUpdate,leading } from '@/service/customer'\nexport default {\n  name: 'AddCooperation',\n  data() {\n    return {\n      checked: true,\n      collaboratorData:{},\n      radio:''\n    }\n  },\n  computed: {},\n  watch: {},\n  created() {\n    this.getCollaborator()\n    \n    if(this.$route.query.type==2){\n\n    }else{\n      \n    }\n    \n  },\n  methods: {\n    //协作人list\n    getCollaborator(){\n      // console.log(this.$store.getters.userData)\n      collaboratorIdInfo({\n        id:this.$store.getters.userData.companyId\n      }).then(res=>{\n        this.collaboratorData = res.data\n        if(this.$route.query.type==2){\n\n          this.collaboratorData.collaboratorUserVOS.map(d=>{\n            d.isEmployee = false\n          })\n        }\n        // console.log('协作人list',res)\n      })\n    },\n    setBut(){\n      if(this.$route.query.type==2){\n        this.setLeading()\n        \n      }else{\n        this.setCollaborator()\n        \n      }      \n         \n    },\n    changeLeading(idx){\n      console.log(idx)\n      console.log(this.radio)\n      this.collaboratorData.collaboratorUserVOS.map((d,iddx)=>{\n        if(idx!=iddx)d.isEmployee = false\n      })\n    },\n    setLeading(){\n      \n      let params = {\n        leadingOfficialUserId:this.radio\n      }\n      leading(params).then(res=>{\n        this.$router.go(-2)   \n      })\n    },\n    //编辑协作人\n    setCollaborator(){\n      let arr = []\n      this.collaboratorData.collaboratorUserVOS.map(d=>{\n        d.isEmployee ? arr.push(d.id):''\n      })\n      let params = {\n        userIds:arr\n      }\n      collaboratorUpdate(params).then(res=>{\n        this.$router.go(-1)   \n      })\n    },\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.contact_container4 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab4_box {\n    width: 100%;\n    .tab4-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      display: flex;\n      position: relative;\n      .delete-icon {\n        position: absolute;\n        top: 36px;\n        right: 16px;\n      }\n      .tab4-left-box {\n        width: 80px;\n        .img-box {\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background: #cccccc;\n          overflow: hidden;\n          margin-top: 5px;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .tab4-right-box {\n        width: 100%;\n        .title-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 16px;\n          font-weight: bold;\n          color: #333333;\n          margin-bottom: 10px;\n        }\n        .value-p {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          font-size: 14px;\n          color: #999999;\n        }\n      }\n    }\n    .tab4_title {\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      color: #999999;\n      font-size: 14px;\n      font-weight: bold;\n      padding: 0 15px;\n      box-sizing: border-box;\n    }\n  }\n  .tab4-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n.tab-footer {\n  width: 100%;\n  height: 70px;\n  background: #fcfcfc;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  padding: 0 10px;\n  box-sizing: border-box;\n}\n</style>\n"]}]}