{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/oc-works/fuli/src/views/AfterLoanManagement/loadOne.vue?vue&type=style&index=0&id=40f73796&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/views/AfterLoanManagement/loadOne.vue","mtime":1564134165914},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/less-loader/dist/cjs.js","mtime":1564134317354},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.contact_container5 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab5_box {\n    width: 100%;\n    .tab5-search {\n      width: 100%;\n      height: 34px;\n      display: flex;\n      border-radius: 1px;\n      margin-bottom: 10px;\n      height: 34px;\n      border-top: 1px solid #aebab4;\n      border-bottom: 1px solid #aebab4;\n      border-left: 1px solid #aebab4;\n      box-sizing: border-box;\n      .search-left {\n        flex: 1;\n        height: 32px;\n        line-height: 32px;\n        display: flex;\n        background: #ffffff;\n        .search-left-left {\n          width: 32px;\n          height: 32px;\n        }\n        .search-left-center {\n          flex: 1;\n          height: 32px;\n          input {\n            width: 100%;\n            height: 30px;\n            padding: 0 10px;\n            font-size: 12px;\n            color: #333333;\n          }\n        }\n        .search-left-right {\n          width: 50px;\n          height: 32px;\n          font-size: 12px;\n          color: #333333;\n          position: relative;\n          select {\n            width: 100%;\n            height: 32px;\n            position: absolute;\n            top: 0;\n            left: 0;\n            opacity: 0;\n          }\n        }\n      }\n      .search-right {\n        height: 32px;\n      }\n    }\n    .tab5-count {\n      width: 100%;\n      height: 35px;\n      line-height: 35px;\n      color: #999999;\n      font-size: 12px;\n    }\n    .tab5-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      .tab5-list-tilte {\n        width: 100%;\n        height: 35px;\n        line-height: 35px;\n        margin-bottom: 15px;\n        .span1 {\n          font-size: 16px;\n          color: #333333;\n          font-weight: bold;\n          float: left;\n        }\n        .span2 {\n          font-size: 12px;\n          float: right;\n          font-weight: bold;\n        }\n      }\n      .tab5-list-p {\n        width: 100%;\n        height: 30px;\n        line-height: 30px;\n        font-size: 14px;\n        color: #333333;\n        .span-left {\n          width: 70%;\n          display: block;\n          float: left;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .span-right {\n          float: right;\n          color: #999999;\n        }\n      }\n      .tab5-list-p1 {\n        font-size: 14px;\n        color: #999999;\n      }\n    }\n  }\n\n  .tab-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n",{"version":3,"sources":["loadOne.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"loadOne.vue","sourceRoot":"src/views/AfterLoanManagement","sourcesContent":["<template>\n  <div name=\"loadOne\">\n    <div class=\"contact_container5\">\n      <div class=\"tab5_box\">\n        <!-- <div class=\"tab5-search\">\n          <div class=\"search-left\">\n            <div class=\"search-left-left\">\n              <span style=\"color:#B2B2B2;margin-left:10px;\" class=\"iconfont iconserach\"></span>\n            </div>\n            <div class=\"search-left-center\">\n              <input type=\"text\" placeholder=\"请输入项目名称\">\n            </div>\n            <div class=\"search-left-right\">\n              <span>筛选</span>\n              <span\n                style=\"font-size:12px; position: relative;top:1px;\"\n                class=\"iconfont iconshaixuan\"\n              ></span>\n              <select @change=\"changSearch()\">\n                <option>待风控确认</option>\n                <option>待财务确认</option>\n                <option>已完成</option>\n              </select>\n\n            </div>\n          </div>\n          <div class=\"search-right\">\n            <van-button\n            style=\"border-radius:0;\n            height:32px;\" size=\"small\" type=\"primary\">搜索</van-button>\n          </div>\n        </div> -->\n        <!-- 筛选 -->\n        <home-search\n          :not-show-search=\"true\"\n          :is-search=\"true\"\n          @postSearch=\"getSearch($event)\"\n          @clearSearch=\"clearDataSearch($event)\"\n        />\n        <div class=\"tab5-count\">\n          共{{ loadOneList.length }}条回款计划\n        </div>\n        <div\n          v-for=\"(item,idx) in loadOneList\"\n          :key=\"idx\"\n          class=\"tab5-list\"\n          @click=\"routerTo(item)\"\n        >\n          <div class=\"tab5-list-tilte\">\n            <p class=\"span1\">\n              {{ item.rentBackName }}\n            </p>\n            <p\n              class=\"span2\"\n              style=\"color:#999999;\"\n            >\n              {{ item.rentPayTime }}\n            </p>\n          </div>\n          <div class=\"tab5-list-p\">\n            所属项目:\n            {{ item.information.projectName }}\n          </div>\n          <div class=\"tab5-list-p\">\n            <span class=\"span-left\">\n              每期租金:\n              人民币{{ item.termRent }}万元\n            </span>\n            <span\n              v-if=\"item.status == 1\"\n              class=\"span-right\"\n            >已完成</span>\n            <span\n              v-if=\"item.status ==0\" \n              class=\"span-right theme-colors-text-btn\"\n              @click.stop=\"setUpdateAmountAndStatus(item)\"\n            >确认完成</span>\n          </div>\n        </div>\n      </div>\n      <div\n        v-if=\"PermissionObj['afterloan_insert'] != undefined\"\n        class=\"tab-footer\"\n      >\n        <van-button\n          class=\"gradual-btn\"\n          style=\"width:100%;\"\n          type=\"primary\"\n          @click.stop=\"routerTo\"          \n        >\n          新增\n        </van-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import { api, get } from \"@api\";\n// import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { findLendingInfoByIdList,updateAmountAndStatus, } from '@/service/loan.js'\nimport HomeSearch from '@views/Home/Home-search.vue'\n\nexport default {\n  name: 'LoadOne',\n  components: {\n    'home-search': HomeSearch,\n  },\n  data() {\n    return {\n        PermissionObj:this.$store.state.powerList.PermissionObj,///权限\n      active: 0,\n      tab2: 2,\n      loadOneList:[]\n    }\n  },\n  computed: {\n\n  },\n  created() {\n    this.selectInput = '777'\n    this.getfindLendingInfoByIdList()\n  },\n  methods: {    \n    routerTo(e){\n      console.log('e',e)\n      if(e){\n        this.$router.push({\n          path:'/addRepayment',\n          query:{\n            id:this.$route.query.id,\n            ln:this.loadOneList.length+1,\n            pid:this.$route.query.projectId,\n            Tid:e.id\n          }\n        })\n      }else{\n        this.$router.push({\n          path:'/addRepayment',\n          query:{\n            id:this.$route.query.id,\n            ln:this.loadOneList.length+1,\n            pid:this.$route.query.projectId,\n          }\n        })\n      }\n      \n    },\n    changSearch() { },\n    //查看当前贷后归还列表\n    getfindLendingInfoByIdList(){\n      let params = {...this.searchObj}      \n      params.projectId = this.$route.query.projectId\n      findLendingInfoByIdList(params).then(res=>{\n        console.log('查看当前贷后归还列表',res)\n        this.loadOneList = res.data.data\n      })\n    },\n    //确认更改状态\n    setUpdateAmountAndStatus(item){\n      let params = {\n        id:item.id,\n        projectId:this.$route.query.projectId,\n        termRent:item.termRent,\n        createUserId:this.$store.getters.userInfo.id\n      }\n      \n      updateAmountAndStatus(params).then(res=>{\n        console.log('确认更改状态',res)\n        this.getfindLendingInfoByIdList()\n        // this.loadOneList = res.data\n      })\n    },\n    // 控制筛选\n    getSearch(data) {\n      console.log('动态列表控制筛选',data)\n      this.searchObj = data      \n      let searchType = false // search是否变化\n      this.homeListData = []\n        this.page = 1\n        this.total = null\n        this.loading = true\n      this.finished_text = ''\n      this.pageLog  = 1\n      this.getfindLendingInfoByIdList()\n    },\n    // 控制筛选    \n    clearDataSearch(data) {\n      // 清除筛选数据\n      this.getSearch()\n      \n    },\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.contact_container5 {\n  width: 100%;\n  padding: 10px 10px 70px 10px;\n  box-sizing: border-box;\n  background: #fcfcfc;\n  .tab5_box {\n    width: 100%;\n    .tab5-search {\n      width: 100%;\n      height: 34px;\n      display: flex;\n      border-radius: 1px;\n      margin-bottom: 10px;\n      height: 34px;\n      border-top: 1px solid #aebab4;\n      border-bottom: 1px solid #aebab4;\n      border-left: 1px solid #aebab4;\n      box-sizing: border-box;\n      .search-left {\n        flex: 1;\n        height: 32px;\n        line-height: 32px;\n        display: flex;\n        background: #ffffff;\n        .search-left-left {\n          width: 32px;\n          height: 32px;\n        }\n        .search-left-center {\n          flex: 1;\n          height: 32px;\n          input {\n            width: 100%;\n            height: 30px;\n            padding: 0 10px;\n            font-size: 12px;\n            color: #333333;\n          }\n        }\n        .search-left-right {\n          width: 50px;\n          height: 32px;\n          font-size: 12px;\n          color: #333333;\n          position: relative;\n          select {\n            width: 100%;\n            height: 32px;\n            position: absolute;\n            top: 0;\n            left: 0;\n            opacity: 0;\n          }\n        }\n      }\n      .search-right {\n        height: 32px;\n      }\n    }\n    .tab5-count {\n      width: 100%;\n      height: 35px;\n      line-height: 35px;\n      color: #999999;\n      font-size: 12px;\n    }\n    .tab5-list {\n      width: 100%;\n      background: #ffffff;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 10px 20px;\n      box-sizing: border-box;\n      margin-bottom: 15px;\n      position: relative;\n      .tab5-list-tilte {\n        width: 100%;\n        height: 35px;\n        line-height: 35px;\n        margin-bottom: 15px;\n        .span1 {\n          font-size: 16px;\n          color: #333333;\n          font-weight: bold;\n          float: left;\n        }\n        .span2 {\n          font-size: 12px;\n          float: right;\n          font-weight: bold;\n        }\n      }\n      .tab5-list-p {\n        width: 100%;\n        height: 30px;\n        line-height: 30px;\n        font-size: 14px;\n        color: #333333;\n        .span-left {\n          width: 70%;\n          display: block;\n          float: left;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .span-right {\n          float: right;\n          color: #999999;\n        }\n      }\n      .tab5-list-p1 {\n        font-size: 14px;\n        color: #999999;\n      }\n    }\n  }\n\n  .tab-footer {\n    width: 100%;\n    height: 70px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n}\n</style>\n"]}]}