{"remainingRequest":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangzhanyuan/code/oc-works/fuli/src/views/customerManagement/customer.vue?vue&type=style&index=0&id=20626142&lang=less&scoped=true&","dependencies":[{"path":"/Users/wangzhanyuan/code/oc-works/fuli/src/views/customerManagement/customer.vue","mtime":1564472355648},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/less-loader/dist/cjs.js","mtime":1564134317354},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangzhanyuan/code/oc-works/fuli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container {\n  width: 100%;\n  .header_info {\n    width: 100%;\n    background: #e2ede8;\n    .info_top {\n      width: 100%;\n      padding: 20px;\n      box-sizing: border-box;\n      display: flex;\n      .headerImg {\n        width: 60px;\n        .headLogo {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background: #ffffff;\n          overflow: hidden;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .text_info {\n        width: 100%;\n        .companyName {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          color: #333333;\n          font-weight: bold;\n          font-size: 14px;\n        }\n        .job {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          color: #333333;\n          font-size: 14px;\n        }\n        .address {\n          width: 100%;\n          line-height: 25px;\n          color: #333333;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n}\n",{"version":3,"sources":["customer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"customer.vue","sourceRoot":"src/views/customerManagement","sourcesContent":["<template>\n  <div name=\"customer\">\n    <div class=\"container\">\n      <div class=\"header_info\">\n        <div class=\"info_top\">\n          <div class=\"headerImg\">\n            <div class=\"headLogo\">\n              <img src>\n            </div>\n          </div>\n          <div class=\"text_info\">\n            <p class=\"companyName\">\n              {{ tabData.companyName }}\n            </p>\n            <p class=\"job\">\n              {{ tabData.companyIndustry }}\n            </p>\n            <p class=\"address\">\n              地址:{{ tabData.companyAdress }}\n            </p>            \n            <p class=\"address\">\n              <span>最后跟进时间:{{ tabData.finalFollowUpTime }}</span>              \n            </p>\n            <p class=\"address\">\n              跟进事件:{{ tabData.actionType }}\n            </p>\n            <p class=\"address\">\n              跟进人:{{ tabData.operatorName }}\n            </p>\n            <p class=\"address\">\n              授信剩余额度:({{ tabData.companyCreditQuota-tabData.companyUsedCreditQuota }})万元\n            </p>\n          </div>\n        </div>\n\n        <van-tabs\n          v-model=\"active\"\n          swipeable\n          sticky\n          color=\"#03C061\"\n          title-active-color=\"#03C061\"\n          background=\"#e2ede8\"\n        >\n          <!-- tab第1页 -->\n          <van-tab\n            v-if=\"TTarrType[0]\"\n            :title=\"'动态'\"\n          >\n            <customer-dynamic />\n          </van-tab>\n          <!-- tab第2页 -->\n          <van-tab\n            v-if=\"TTarrType[1]\"\n            :title=\"'信息'\"\n          >\n            <customer-info />\n          </van-tab>\n          <!-- tab第3页 -->\n          <van-tab\n            v-if=\"TTarrType[2]\"\n            :title=\"'联系人'\"\n          >\n            <customer-contacts />\n          </van-tab>\n\n          <!-- tab第4页 -->\n          <van-tab\n            v-if=\"TTarrType[3]\"\n            :title=\"'协作'\"\n          >\n            <customer-cooperation />\n          </van-tab>\n\n          <!-- tab第5页 -->\n          <van-tab\n            v-if=\"TTarrType[4]\"\n            :title=\"'拜访'\"\n          >\n            <customer-visit />\n          </van-tab>\n\n          <van-tab\n            v-if=\"TTarrType[5]\"\n            :title=\"'项目列表'\"\n          >\n            <customer-creation />\n          </van-tab>\n\n          <van-tab\n            v-if=\"TTarrType[6]\"\n            :title=\"'报价'\"\n          >\n            <customer-quotation />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[7]\"\n            :title=\"'尽调'\"\n          >\n            <customer-investigation />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[8]\"\n            :title=\"'上会'\"\n          >\n            <customer-commerce />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[9]\"\n            :title=\"'签约'\"\n          >\n            <customer-signing />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[10]\"\n            :title=\"'投放'\"\n          >\n            <customer-loan />\n          </van-tab>\n          <van-tab\n            v-if=\"TTarrType[11]\"\n            :title=\"'贷后'\"\n          >\n            <customer-afterloan />\n          </van-tab>\n        </van-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import { api, get } from \"@api\"\nimport { firmInfo } from '@/service/customer'\n// import { mapState, mapMutations } from 'vuex'\n// import { formatDate, isNull } from '@/utils'\nimport customerDynamic from './tab-dynamic.vue'\nimport customerInfo from './tab-info.vue'\nimport customerContacts from './tab-contacts.vue'\nimport customerCooperation from './tab-cooperation.vue'\nimport customerVisit from './tab-visit.vue'\nimport customerCreation from './tab-creation.vue'\nimport customerQuotation from './tab-quotation.vue'\nimport customerCommerce from './tab-commerce.vue'\nimport customerInvestigation from './tab-investigation.vue'\nimport customerSigning from './tab-signing.vue'\nimport customerLoan from './tab-loan.vue'\nimport customerAfterloan from './tab-afterloan.vue'\n\nexport default {\n  name: 'Customer',\n  components: {\n    'customer-dynamic': customerDynamic,\n    'customer-info': customerInfo,\n    'customer-contacts': customerContacts,\n    'customer-cooperation': customerCooperation,\n    'customer-visit': customerVisit,\n    'customer-creation': customerCreation,\n    'customer-quotation': customerQuotation,\n    'customer-commerce': customerCommerce,\n    'customer-investigation': customerInvestigation,\n    'customer-signing': customerSigning,\n    'customer-loan': customerLoan,\n    'customer-afterloan': customerAfterloan,\n  },\n  data() {\n    return {\n      active:0,\n      id: '',\n      tabData: {},\n      showtype: [],\n      TTarrName: ['动态', '信息', '联系人', '协作人', '拜访', '立项', '报价', '尽调', '上会', '签约', '投放', '贷后'],\n      TTarrType: [true, true, true, true, true, true, true, true, true, true, true, true],\n    }\n  },\n  watch:{\n    active(newV,oldV){\n      console.log('active','n=',newV,'o=',oldV)\n      this.$store.commit('SET_ACTIVE',newV)\n      return \n    }\n  },\n  destroyed() {\n    // this.$store.commit('SET_ACTIVE', 0)\n  },\n  created() {\n    // this.$store.commit('SET_USER_DATA', {})\n    this.active = this.$store.getters.active\n    this.getRouterData()\n    console.log('this.showtype', this.showtype)\n    this.getData()\n    this.getPowerList()\n  },\n  methods: {\n    getRouterData() {\n      this.id = this.$route.query.id\n    },\n    getData() {\n      const params = {\n        id: this.id,\n      }\n      firmInfo(params).then((res) => {\n        this.tabData = res.data\n        console.log('企业信息firmInfo',res)\n        this.$store.commit('SET_USER_DATA', res.data)\n      })\n    },\n    getPowerList() {\n      const { powerList } = this.$store.getters\n      // eslint-disable-next-line array-callback-return\n      this.TTarrName.map((d, idx) => {\n        this.TTarrType[idx] = powerList.TTarr.indexOf(d) > -1\n      })\n    },\n\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.container {\n  width: 100%;\n  .header_info {\n    width: 100%;\n    background: #e2ede8;\n    .info_top {\n      width: 100%;\n      padding: 20px;\n      box-sizing: border-box;\n      display: flex;\n      .headerImg {\n        width: 60px;\n        .headLogo {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          background: #ffffff;\n          overflow: hidden;\n          img {\n            width: 100%;\n            display: block;\n          }\n        }\n      }\n      .text_info {\n        width: 100%;\n        .companyName {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          color: #333333;\n          font-weight: bold;\n          font-size: 14px;\n        }\n        .job {\n          width: 100%;\n          height: 25px;\n          line-height: 25px;\n          color: #333333;\n          font-size: 14px;\n        }\n        .address {\n          width: 100%;\n          line-height: 25px;\n          color: #333333;\n          font-size: 14px;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}