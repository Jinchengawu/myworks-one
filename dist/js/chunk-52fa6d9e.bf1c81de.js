(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52fa6d9e"],{"5c71":function(t,e,n){"use strict";var a=n("6757"),r=n.n(a);r.a},6757:function(t,e,n){},"70a2":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addRepayment"},[n("div",{staticClass:"container"},[n("van-cell-group",{attrs:{border:!1}},[n("van-field",{attrs:{label:"客户",type:"text","input-align":"right",placeholder:"请输入",error:!1,border:!1,readonly:!0},model:{value:t.form.companyName,callback:function(e){t.$set(t.form,"companyName",e)},expression:"form.companyName"}}),n("div",{staticClass:"select-list"},[n("div",{staticClass:"list"},[n("div",{staticClass:"left"},[t._v("\n            所属项目\n          ")]),n("div",{staticClass:"right"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.projectName,expression:"form.projectName"},{name:"placeholder",rawName:"v-placeholder",value:{color:t.form.projectName},expression:"{color: form.projectName}"}],attrs:{disabled:t.OTP},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.form,"projectName",e.target.multiple?n:n[0])}}},t._l(t.pgList,function(e,a){return n("option",{key:a,domProps:{value:e.information.projectName}},[t._v("\n                "+t._s(e.information.projectName)+"\n              ")])}),0)]),n("div",{directives:[{name:"sanjiao",rawName:"v-sanjiao",value:{color:t.form.projectName},expression:"{color: form.projectName}"}],staticClass:"saojiao"})])]),n("div",{staticClass:"money-text"},[n("van-field",{staticStyle:{width:"90%"},attrs:{label:"租期",type:"number","input-align":"right",placeholder:"请输入租期 单位:",error:!1,border:!1,readonly:!t.isShow},model:{value:t.form.rentTime,callback:function(e){t.$set(t.form,"rentTime",e)},expression:"form.rentTime"}}),n("span",{staticClass:"right-text"},[t._v("月")])],1),n("div",{staticClass:"select-list"},[n("div",{staticClass:"list",on:{click:function(e){return t.startTimeClick()}}},[n("div",{staticClass:"left"},[t._v("\n            起租日\n          ")]),n("div",{staticClass:"right",class:{selectPlaceholder:""==t.form.startRentTime}},[t._v("\n            "+t._s(""==t.form.startRentTime?"请选择":t.form.startRentTime)+"\n          ")]),n("div",{staticClass:"timeBox"},[n("span",{staticClass:"iconfont iconrili",staticStyle:{color:"#aebab4"}})])])]),n("div",{staticClass:"select-list"},[n("div",{staticClass:"list",on:{click:function(e){return t.endTimeClick()}}},[n("div",{staticClass:"left"},[t._v("\n            租金支付日期\n          ")]),n("div",{staticClass:"right",class:{selectPlaceholder:""==t.form.rentPayTime}},[t._v("\n            "+t._s(""==t.form.rentPayTime?"请选择":t.form.rentPayTime)+"\n          ")]),n("div",{staticClass:"timeBox"},[n("span",{staticClass:"iconfont iconrili",staticStyle:{color:"#aebab4"}})])])]),n("div",{staticClass:"money-text"},[n("van-field",{staticStyle:{width:"90%"},attrs:{label:"本金部分",type:"number","input-align":"right",placeholder:"请输入本金部分 单位:",error:!1,border:!1,readonly:!t.isShow},model:{value:t.form.principalPart,callback:function(e){t.$set(t.form,"principalPart",e)},expression:"form.principalPart"}}),n("span",{staticClass:"right-text"},[t._v("万元")])],1),n("div",{staticClass:"money-text"},[n("van-field",{staticStyle:{width:"90%"},attrs:{label:"利息部分",type:"number","input-align":"right",placeholder:"请输入利息部分 单位:",error:!1,border:!1,readonly:!t.isShow},model:{value:t.form.interestPart,callback:function(e){t.$set(t.form,"interestPart",e)},expression:"form.interestPart"}}),n("span",{staticClass:"right-text"},[t._v("万元")])],1),n("div",{staticClass:"money-text"},[n("van-field",{staticStyle:{width:"90%"},attrs:{label:"每期租金",type:"number","input-align":"right",placeholder:"请输入每期租金 单位:",error:!1,border:!1,readonly:!t.isShow},model:{value:t.form.termRent,callback:function(e){t.$set(t.form,"termRent",e)},expression:"form.termRent"}}),n("span",{staticClass:"right-text"},[t._v("万元")])],1)],1),n("div",{staticClass:"footer"},[t.isShow?n("van-button",{staticClass:"gradual-btn",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.addbut}},[t._v("\n        确认信息\n      ")]):t._e()],1)],1),n("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.selectStartTime,callback:function(e){t.selectStartTime=e},expression:"selectStartTime"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate,formatter:t.formatter},on:{confirm:function(e){return t.startconfirm(e)},cancel:function(e){return t.startconfirm()}},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}})],1),n("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:t.selectEndTime,callback:function(e){t.selectEndTime=e},expression:"selectEndTime"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":t.minDate,formatter:t.formatter},on:{confirm:function(e){return t.endconfirm(e)},cancel:function(e){return t.endconfirm()}},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}})],1)],1)},r=[],i=(n("28a5"),n("cebc")),o=n("bd86"),c=(n("2f62"),n("ed08")),s=n("e3ea"),l=n("5217"),m={name:"AddRepayment",data:function(){var t;return{project:-1,tenancy:-1,selectStartTime:!1,selectEndTime:!1,maxDate:new Date,minDate:new Date(1900,1,1),currentTime:new Date,form:(t={createUserId:"",projectId:"",startRentTime:"",rentTime:""},Object(o["a"])(t,"startRentTime",""),Object(o["a"])(t,"rentPayTime",""),Object(o["a"])(t,"principalPart",""),Object(o["a"])(t,"interestPart",""),Object(o["a"])(t,"termRent",""),Object(o["a"])(t,"lendingId",""),Object(o["a"])(t,"rentBackName",""),Object(o["a"])(t,"companyName",""),t),pgList:[],isShow:!0,OTP:!1}},computed:{},watch:{},mounted:function(){},created:function(){this.$route.query.Tid?(this.getTdata(this.$route.query.Tid),this.isShow=!1,this.OTP=!0):(this.getProjectList(),this.form.companyName=this.$store.getters.userData.companyName,this.form.lendingId=this.$route.query.id,this.form.rentBackName="第"+this.$route.query.ln+"次还款",this.form.createUserId=this.$store.getters.userInfo.id)},methods:{getTdata:function(t){var e=this;Object(s["f"])({id:t}).then(function(t){e.form=t.data,e.form.projectName=e.form.information.projectName,e.pgList.push(e.form)})},addbut:function(){this.addRPM()},addRPM:function(){var t=this,e=Object(i["a"])({},this.form);this.pgList.map(function(t){e.projectId=t.information.projectName==e.projectName?t.id:e.projectId}),e.projectId=this.$route.query.pid,Object(s["d"])(e).then(function(e){t.$router.go(-1)})},getProjectList:function(){var t=this,e={menuType:1,size:1e3};Object(l["v"])(e).then(function(e){if(console.log("projectList",e),0!=e.total&&(t.pgList=e.data,e.data.length>0)){if(t.form.projectName)return;t.form.projectName=e.data[0].information.projectName}})},formatter:function(t,e){return"".concat(e,"year"===t?"年":"month"===t?"月":"日")},startTimeClick:function(){this.$route.query.Tid||(this.selectStartTime=!0)},endTimeClick:function(){this.$route.query.Tid||(this.selectEndTime=!0)},startconfirm:function(t){if(Object(c["e"])(t))this.selectStartTime=!1;else{var e=Object(c["d"])(new Date(t),"yyyy-MM-dd","special"),n=e.split("-");this.form.startRentTime="".concat(n[0],"-").concat(n[1],"-").concat(n[2]),this.selectStartTime=!1}},endconfirm:function(t){if(Object(c["e"])(t))this.selectEndTime=!1;else{var e=Object(c["d"])(new Date(t),"yyyy-MM-dd","special"),n=e.split("-");this.form.rentPayTime="".concat(n[0],"-").concat(n[1],"-").concat(n[2]),this.selectEndTime=!1}},onRead:function(){}}},d=m,u=(n("5c71"),n("2877")),f=Object(u["a"])(d,a,r,!1,null,"399e724c",null);e["default"]=f.exports},e3ea:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"j",function(){return c}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return m}),n.d(e,"k",function(){return d}),n.d(e,"i",function(){return u}),n.d(e,"l",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return h}),n.d(e,"h",function(){return v}),n.d(e,"e",function(){return b});var a=n("8e44"),r=n("8982"),i=n("c0d6"),o=function(t){return Object(a["a"])(r["a"].fuLiRentBack,"POST",t)},c=function(t){return Object(a["a"])(r["a"].sendTextCardMessage,"GET",t)},s=function(t){return Object(a["a"])(r["a"].lendPageList,"GET",t).then(function(t){var e=i["a"].getters.userInfo.id+"";return t.data.data.map(function(t){t.browseUsers&&(t.isRead=t.browseUsers.indexOf(e)>-1),t.information=JSON.parse(t.information),t.createTime=t.updateTime.slice(0,10)}),t.data})},l=function(t){return Object(a["a"])(r["a"].getfuLiRentBack,"GET",t).then(function(t){return t.data.information=JSON.parse(t.data.information),t})},m=function(t){return Object(a["a"])(r["a"].findLendingInfoByIdList,"GET",t).then(function(t){return t.data.data&&t.data.data.map(function(t){t.information=JSON.parse(t.information)}),t})},d=function(t){return Object(a["a"])(r["a"].updateAmountAndStatus,"PUT",t)},u=function(t){return Object(a["a"])(r["a"].rentBackFilePage,"GET",t).then(function(t){return t.data.data.map(function(t){t.information=JSON.parse(t.information)||{}}),t.data})},f=function(t){return Object(a["a"])(r["a"].updateRentBackFileById,"PUT",t)},p=function(t){return Object(a["a"])(r["a"].addSearonCheck,"POST",t)},h=function(t){return Object(a["a"])(r["a"].addRentBack,"POST",t)},v=function(t){return Object(a["a"])(r["a"].lendingInfoConfirm,"POST",t)},b=function(t){return Object(a["a"])(r["a"].lendingInfoConfirm,"GET",t)}}}]);
//# sourceMappingURL=chunk-52fa6d9e.bf1c81de.js.map