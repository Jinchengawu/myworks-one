{"version":3,"sources":["webpack:///./src/views/addLoan/addLoan.vue?e038","webpack:///src/views/addLoan/addLoan.vue","webpack:///./src/views/addLoan/addLoan.vue?6c13","webpack:///./src/views/addLoan/addLoan.vue","webpack:///./src/views/addLoan/addLoan.vue?cd01"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","border","label","type","input-align","placeholder","error","readonly","OTP","model","value","lendItemD","lendingItem","callback","$$v","$set","expression","on","click","$event","startTimeClick","_v","class","selectPlaceholder","lendTime","_s","staticStyle","color","_e","width","_l","itm","idx","key","span","text-align","lendAmount","lendingItemList","length","square","addLendItem","status","setLendConfirm","position","overlay","selectStartTime","formatter","confirm","startconfirm","cancel","currentTime","staticRenderFns","addLoanvue_type_script_lang_js_","name","data","projectName","project","maxDate","Date","minDate","computed","Object","objectSpread","vuex_esm","watch","mounted","created","nowDate","toLocaleDateString","getTime","getLendItem","$route","query","methods","_this","params","txts","$checkFrom","lendId","id","customer","then","res","$router","go","e","utils","time","timeStr","split","concat","_this2","map","d","_this3","parmas","riskManagementId","$store","getters","userInfo","financeId","addLoan_addLoanvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addLoan_vue_vue_type_style_index_0_id_aa4e7b2c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_addLoan_vue_vue_type_style_index_0_id_aa4e7b2c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-057092f3.a3dfd269.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addLoan\"},[_c('div',{staticClass:\"container\"},[_c('van-cell-group',{attrs:{\"border\":false}},[_c('van-field',{attrs:{\"label\":\"客户\",\"type\":\"text\",\"input-align\":\"right\",\"placeholder\":\"请输入\",\"error\":false,\"border\":false,\"readonly\":_vm.OTP!=1},model:{value:(_vm.lendItemD.lendingItem.companyName),callback:function ($$v) {_vm.$set(_vm.lendItemD.lendingItem, \"companyName\", $$v)},expression:\"lendItemD.lendingItem.companyName\"}}),_c('van-field',{attrs:{\"label\":\"所属项目\",\"type\":\"text\",\"input-align\":\"right\",\"placeholder\":\"请填写承租人信息\",\"error\":false,\"border\":false,\"readonly\":_vm.OTP!=1},model:{value:(_vm.lendItemD.lendingItem.projectName),callback:function ($$v) {_vm.$set(_vm.lendItemD.lendingItem, \"projectName\", $$v)},expression:\"lendItemD.lendingItem.projectName\"}}),(_vm.OTP==1)?_c('div',{staticClass:\"select-list\"},[_c('div',{staticClass:\"list\",on:{\"click\":function($event){return _vm.startTimeClick()}}},[_c('div',{staticClass:\"left\"},[_vm._v(\"\\n            投放时间\\n          \")]),_c('div',{staticClass:\"right\",class:{'selectPlaceholder':_vm.lendItemD.lendingItem.lendTime== ''}},[_vm._v(\"\\n            \"+_vm._s(_vm.lendItemD.lendingItem.lendTime== '' ? '请选择' : _vm.lendItemD.lendingItem.lendTime)+\"\\n          \")]),_c('div',{staticClass:\"timeBox\"},[_c('span',{staticClass:\"iconfont iconrili\",staticStyle:{\"color\":\"#aebab4\"}})])])]):_vm._e(),_c('div',{staticClass:\"money-text\"},[_c('van-field',{staticStyle:{\"width\":\"90%\"},attrs:{\"label\":\"合约金额\",\"type\":\"number\",\"input-align\":\"right\",\"placeholder\":\"请输入合约金额 单位:\",\"error\":false,\"border\":false,\"readonly\":_vm.OTP!=1},model:{value:(_vm.lendItemD.lendingItem.contractAmount),callback:function ($$v) {_vm.$set(_vm.lendItemD.lendingItem, \"contractAmount\", $$v)},expression:\"lendItemD.lendingItem.contractAmount\"}}),_c('span',{staticClass:\"right-text\"},[_vm._v(\"万元\")])],1),(_vm.OTP==1)?_c('div',{staticClass:\"money-text\"},[_c('van-field',{staticStyle:{\"width\":\"90%\"},attrs:{\"label\":\"投放金额\",\"type\":\"number\",\"input-align\":\"right\",\"placeholder\":\"请输入投放金额  单位:\",\"error\":false,\"border\":false},model:{value:(_vm.lendItemD.lendingItem.lendAmount),callback:function ($$v) {_vm.$set(_vm.lendItemD.lendingItem, \"lendAmount\", $$v)},expression:\"lendItemD.lendingItem.lendAmount\"}}),_c('span',{staticClass:\"right-text\"},[_vm._v(\"万元\")])],1):_vm._e(),_c('div',{staticClass:\"select-map\"},[_c('div',{staticClass:\"title-header\"},[_vm._v(\"\\n          投放记录\\n        \")]),_c('div',{staticClass:\"body\"},_vm._l((_vm.lendItemD.lendingItemList),function(itm,idx){return _c('div',{key:idx,staticClass:\"item-list\"},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"8\"}},[_vm._v(\"\\n                \"+_vm._s(itm.lendTime)+\"\\n              \")]),_c('van-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":\"8\"}},[_vm._v(\"\\n                投放: \"+_vm._s(itm.lendAmount)+\"万元\\n              \")]),_c('van-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"8\"}},[_vm._v(\"\\n                第\"+_vm._s(_vm.lendItemD.lendingItemList.length-idx)+\"次投放\\n              \")])],1)],1)}),0)])],1),_c('div',{staticClass:\"footer\"},[_c('van-row',[(_vm.OTP==1)?_c('van-col',{attrs:{\"span\":\"24\"}},[_c('van-button',{staticClass:\"confirm-btn\",staticStyle:{\"width\":\"100%\"},attrs:{\"square\":\"\",\"type\":\"primary\"},on:{\"click\":_vm.addLendItem}},[_vm._v(\"\\n            新建\\n          \")])],1):_vm._e(),(_vm.lendItemD.lendingItem.status==1)?_c('van-col',{attrs:{\"span\":\"24\"}},[_c('van-button',{staticClass:\"confirm-btn\",staticStyle:{\"width\":\"100%\"},attrs:{\"square\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.setLendConfirm(1)}}},[_vm._v(\"\\n            风控确认\\n          \")])],1):_vm._e(),(_vm.lendItemD.lendingItem.status==2)?_c('van-col',{attrs:{\"span\":\"24\"}},[_c('van-button',{staticClass:\"confirm-btn\",staticStyle:{\"width\":\"100%\"},attrs:{\"square\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.setLendConfirm(2)}}},[_vm._v(\"\\n            财务确认\\n          \")])],1):_vm._e()],1)],1)],1),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":true},model:{value:(_vm.selectStartTime),callback:function ($$v) {_vm.selectStartTime=$$v},expression:\"selectStartTime\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"formatter\":_vm.formatter},on:{\"confirm\":function($event){return _vm.startconfirm($event)},\"cancel\":function($event){return _vm.startconfirm()}},model:{value:(_vm.currentTime),callback:function ($$v) {_vm.currentTime=$$v},expression:\"currentTime\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"addLoan\">\n    <div class=\"container\">\n      <van-cell-group :border=\"false\">\n        <van-field\n          v-model=\"lendItemD.lendingItem.companyName\"\n          label=\"客户\"\n          type=\"text\"\n          input-align=\"right\"\n          placeholder=\"请输入\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"OTP!=1\"\n        />\n        <van-field\n          v-model=\"lendItemD.lendingItem.projectName\"\n          label=\"所属项目\"\n          type=\"text\"\n          input-align=\"right\"\n          placeholder=\"请填写承租人信息\"\n          :error=\"false\"\n          :border=\"false\"\n          :readonly=\"OTP!=1\"\n        />\n        <div\n          v-if=\"OTP==1\"\n          class=\"select-list\"\n        >\n          <div\n            class=\"list\"\n            @click=\"startTimeClick()\"\n          >          \n            <div class=\"left\">\n              投放时间\n            </div>\n            <div\n              class=\"right\"\n              :class=\"{'selectPlaceholder':lendItemD.lendingItem.lendTime== ''}\"\n            >\n              {{ lendItemD.lendingItem.lendTime== '' ? '请选择' : lendItemD.lendingItem.lendTime }}\n            </div>\n            <div class=\"timeBox\">\n              <span\n                class=\"iconfont iconrili\"\n                style=\"color:#aebab4\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"money-text\">\n          <van-field\n            v-model=\"lendItemD.lendingItem.contractAmount\"\n            style=\"width:90%;\"\n            label=\"合约金额\"\n            type=\"number\"\n            input-align=\"right\"\n            placeholder=\"请输入合约金额 单位:\"\n            :error=\"false\"\n            :border=\"false\"\n            :readonly=\"OTP!=1\"\n          />\n          <span class=\"right-text\">万元</span>\n        </div>\n        <div\n          v-if=\"OTP==1\"\n          class=\"money-text\"\n        >\n          <van-field\n            v-model=\"lendItemD.lendingItem.lendAmount\"\n         \n            style=\"width:90%;\"\n            label=\"投放金额\"\n            type=\"number\"\n            input-align=\"right\"\n            placeholder=\"请输入投放金额  单位:\"\n            :error=\"false\"\n            :border=\"false\"\n          />\n          <span class=\"right-text\">万元</span>\n        </div>\n        <div class=\"select-map\">\n          <div class=\"title-header\">\n            投放记录\n          </div>\n          <div class=\"body\">\n            <div\n              v-for=\"(itm,idx) in lendItemD.lendingItemList\"\n              :key=\"idx\"\n              class=\"item-list\"\n            >\n              <van-row>\n                <van-col span=\"8\">\n                  {{ itm.lendTime }}\n                </van-col>\n                <van-col\n                  style=\"text-align: center;\"\n                  span=\"8\"\n                >\n                  投放: {{ itm.lendAmount }}万元\n                </van-col>\n                <van-col\n                  style=\"text-align: right;\"\n                  span=\"8\"\n                >\n                  第{{ lendItemD.lendingItemList.length-idx }}次投放\n                </van-col>\n              </van-row>\n            </div>\n          </div>\n        </div>\n      </van-cell-group>\n      <!-- <div class=\"clear-btn\"\n              style=\"width:100%;\"\n              square\n              type=\"primary\"\n              @click=\"addLendItem\"\n               v-if='OTP==1'\n              >新建</div> -->\n      <div class=\"footer\">\n        <van-row>\n          <van-col\n            v-if=\"OTP==1\"\n            span=\"24\"\n          >\n            <van-button\n              class=\"confirm-btn\"\n              style=\"width:100%;\"\n              square\n              type=\"primary\"\n              @click=\"addLendItem\"\n            >\n              新建\n            </van-button>\n          </van-col>\n          <van-col\n            v-if=\"lendItemD.lendingItem.status==1\"\n            span=\"24\"\n          >\n            <van-button\n              class=\"confirm-btn\"\n              style=\"width:100%;\"\n              square\n              type=\"primary\"\n              @click=\"setLendConfirm(1)\"\n            >\n              风控确认\n            </van-button>\n          </van-col>\n          <van-col\n            v-if=\"lendItemD.lendingItem.status==2\"\n            span=\"24\"\n          >\n            <van-button\n              class=\"confirm-btn\"\n              style=\"width:100%;\"\n              square\n              type=\"primary\"\n              @click=\"setLendConfirm(2)\"\n            >\n              财务确认\n            </van-button>\n          </van-col>\n        </van-row>\n      </div>\n    </div>\n    <!-- 时间选择 -->\n    <van-popup\n      v-model=\"selectStartTime\"\n      position=\"bottom\"\n      :overlay=\"true\"\n    >\n      <van-datetime-picker\n        v-model=\"currentTime\"\n        type=\"date\"\n        :formatter=\"formatter\"\n        @confirm=\"startconfirm($event)\"\n        @cancel=\"startconfirm()\"\n      />\n    </van-popup>\n  </div>\n</template>\n<script>\nimport { lendItem, lendConfirm,addLend } from '@/service/customer'\nimport { mapState } from 'vuex'\nimport { formatDate, isNull } from '@/utils'\n// import { TMap } from \"../../utils/Map.js\";\n\nexport default {\n  name: 'AddLoan',\n  data() {\n    return {\n      projectName: '',\n      project: '',\n      lendItemD: {\n        lendingItem:{}\n      },\n      OTP:1,\n      selectStartTime: false,      \n      maxDate: new Date(),\n      minDate: '',\n      currentTime: new Date(),\n    }\n  },\n  computed: {\n    ...mapState(['companyName']),\n  },\n  watch: {},\n  mounted() { },\n  created() {\n    const nowDate = new Date(new Date().toLocaleDateString()) // 获取当前时间\n    this.minDate = new Date(nowDate.getTime() - 2 * 24 * 60 * 60 * 1000)\n    this.getLendItem()\n    this.OTP = this.$route.query.OTP\n  },\n  methods: {\n    //新增投放项目（投放子项目）\n    addLendItem(){\n      let params = this.lendItemD.lendingItem\n      let txts = {                                \n        lendAmount:'投放金额',\n        lendTime:'投放时间',        \n      } \n      if (!this.$checkFrom(params,txts)) {\n        return\n      }\n      params.lendId = this.$route.query.id\n      addLend(params).then(res=>{\n        // console.log('新增投放项目（投放子项目）',res)\n         this.$router.go(-1)\n      })\n    },\n    //\n     startTimeClick() {\n      this.selectStartTime = true\n    },\n    startconfirm(e) {\n      // 选开始时间\n      if (isNull(e)) {\n        this.selectStartTime = false\n      } else {\n        const time = formatDate(new Date(e), 'yyyy-MM-dd', 'special')\n        const timeStr = time.split('-')\n        this.lendItemD.lendingItem.lendTime = ` ${timeStr[0]}-${timeStr[1]}-${timeStr[2]}`\n        this.selectStartTime = false\n      }\n    },  \n    formatter(type, value) {\n      if (type === 'year') {\n        return `${value}年`\n      } if (type === 'month') {\n        return `${value}月`\n      }\n      return `${value}日`\n    },\n    \n    getLendItem() {\n      lendItem({ id: this.$route.query.id }).then((res) => {\n        // console.log('投放项目查询(投放列表)', res)\n\n        this.lendItemD = res.data\n        this.lendItemD.lendingItemList.map(d=>{\n          d.lendTime = formatDate(new Date(d.lendTime) ,'yyyy-MM-dd')\n        })\n        // this.lendItemD.lendingItemList.reverse()\n      })\n    },\n    //风控财务确认\n    setLendConfirm(type) {\n      const parmas = {\n        id: this.lendItemD.lendingItem.id,\n        riskManagementId: this.$store.getters.userInfo.id, // 风控确认时需要\n        financeId: this.$store.getters.userInfo.id, // 财务确认时需要\n      }\n      if (type === 2) {\n        delete parmas.riskManagementId\n      } else {\n        delete parmas.financeId\n      }\n      lendConfirm(parmas).then((res) => {\n        // console.log('投放项目确认（风控和财务）', res)\n        this.$router.go(-1)\n      })\n    },\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.container {\n  width: 100%;\n  padding-bottom: 100px;\n  .select-list {\n    width: 100%;\n    padding: 0px 0px 0px 15px;\n    box-sizing: border-box;\n    .addborder {\n      border-bottom: 1px solid #f5f6f8;\n    }\n    .list {\n      width: 100%;\n      height: 40px;\n      display: flex;\n      line-height: 40px;\n      background-color: #fff;\n      color: #323233;\n      font-size: 14px;\n      overflow: hidden;\n      color: #323233;\n      font-size: 14px;\n      box-sizing: border-box;\n      padding-right: 15px;\n      .left {\n        max-width: 90px;\n        height: 40px;\n      }\n      .right {\n        flex: 1;\n        height: 40px;\n        text-align: right;\n        select {\n          width: 100%;\n          height: 40px;\n          text-align: right;\n          border: none;\n          outline: none;\n          appearance: none;\n          -moz-appearance: none;\n          -webkit-appearance: none;\n          -ms-appearance: none;\n          direction: rtl;\n          text-indent: 5px;\n          background: #ffffff;\n        }\n      }\n    }\n    .saojiao {\n      width: 0;\n      height: 0;\n      border-width: 6px;\n      border-style: solid;\n      border-color: #323233 transparent transparent transparent;\n      margin-top: 17px;\n    }\n    .timeBox {\n      width: 25px;\n      height: 40px;\n      text-align: right;\n    }\n  }\n  .select-map {\n    width: 100%;\n    box-sizing: border-box;\n    .title-header {\n      width: 100%;\n      height: 40px;\n      display: flex;\n      line-height: 40px;\n      background-color: #fff;\n      color: #323233;\n      font-size: 14px;\n      overflow: hidden;\n      color: #323233;\n      font-size: 14px;\n      padding-left: 15px;\n    }\n    .body {\n      width: 100%;\n      .item-list {\n        width: 100%;\n        height: 40px;\n        line-height: 40px;\n        font-size: 12px;\n        color: #333333;\n        padding: 0 15px;\n        box-sizing: border-box;\n      }\n      .item-list:nth-child(2n-1) {\n        background: #f3f3f3;\n      }\n    }\n    .uploadFile {\n      width: 100px;\n      height: 100px;\n      border: 1px dashed #979797;\n      position: relative;\n      .uploadIcon {\n        font-size: 30px;\n        position: absolute;\n        top: 15px;\n        left: 35px;\n        color: #979797;\n      }\n      .uploadText {\n        width: 65px;\n        font-size: 16px;\n        position: absolute;\n        top: 50px;\n        left: 20px;\n        color: #979797;\n      }\n    }\n  }\n  .footer {\n    width: 100%;\n    height: 44px;\n    background: #fcfcfc;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLoan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLoan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addLoan.vue?vue&type=template&id=aa4e7b2c&scoped=true&\"\nimport script from \"./addLoan.vue?vue&type=script&lang=js&\"\nexport * from \"./addLoan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addLoan.vue?vue&type=style&index=0&id=aa4e7b2c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aa4e7b2c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLoan.vue?vue&type=style&index=0&id=aa4e7b2c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addLoan.vue?vue&type=style&index=0&id=aa4e7b2c&lang=less&scoped=true&\""],"sourceRoot":""}